<script>
<!--
document.write(unescape("%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22zh-CN%22%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22UTF-8%22%20/%3E%0A%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%20/%3E%0A%20%20%3Ctitle%3E52108%20%u5546%u54C1%u76D1%u542C%20%26%20%u4EF7%u503C%u7B5B%u9009%u5408%u96C6%3C/title%3E%0A%20%20%3Cstyle%3E%20%20%20%20%0A%20%20%20%20*%20%7B%20box-sizing%3A%20border-box%3B%20%7D%0A%20%20%20%20body%20%7B%20%0A%20%20%20%20%20%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20%22Segoe%20UI%22%2C%20Roboto%2C%20%22Helvetica%20Neue%22%2C%20Arial%2C%20sans-serif%3B%20%0A%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20%23667eea%200%25%2C%20%23764ba2%20100%25%29%3B%0A%20%20%20%20%20%20margin%3A%200%3B%20%0A%20%20%20%20%20%20padding%3A%2020px%3B%20%0A%20%20%20%20%20%20min-height%3A%20100vh%3B%0A%20%20%20%20%7D%0A%20%20%20%20.container%20%7B%0A%20%20%20%20%20%20max-width%3A%20900px%3B%0A%20%20%20%20%20%20margin%3A%200%20auto%3B%0A%20%20%20%20%7D%0A%20%20%20%20.card%20%7B%20%0A%20%20%20%20%20%20background%3A%20white%3B%20%0A%20%20%20%20%20%20padding%3A%2024px%3B%20%0A%20%20%20%20%20%20border-radius%3A%2016px%3B%20%0A%20%20%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20%20%20box-shadow%3A%200%208px%2024px%20rgba%280%2C0%2C0%2C0.12%29%3B%20%0A%20%20%20%20%7D%0A%20%20%20%20h1%20%7B%20%0A%20%20%20%20%20%20text-align%3A%20center%3B%20%0A%20%20%20%20%20%20margin%3A%200%200%2024px%200%3B%0A%20%20%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%7D%0A%20%20%20%20h2%20%7B%20%0A%20%20%20%20%20%20margin%3A%200%200%2016px%200%3B%20%0A%20%20%20%20%20%20font-size%3A%2018px%3B%20%0A%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20%20%20padding-bottom%3A%208px%3B%20%0A%20%20%20%20%20%20border-bottom%3A%202px%20solid%20%23ff6a00%3B%20%0A%20%20%20%20%7D%0A%20%20%20%20label%20%7B%20%0A%20%20%20%20%20%20display%3A%20block%3B%20%0A%20%20%20%20%20%20margin-top%3A%2012px%3B%20%0A%20%20%20%20%20%20margin-bottom%3A%206px%3B%0A%20%20%20%20%20%20font-weight%3A%20500%3B%20%0A%20%20%20%20%20%20color%3A%20%23555%3B%0A%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%7D%0A%20%20%20%20input%2C%20select%20%7B%20%0A%20%20%20%20%20%20width%3A%20100%25%3B%20%0A%20%20%20%20%20%20padding%3A%2010px%2012px%3B%20%0A%20%20%20%20%20%20border-radius%3A%208px%3B%20%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23ddd%3B%20%0A%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20transition%3A%20border-color%200.2s%3B%0A%20%20%20%20%7D%0A%20%20%20%20input%3Afocus%2C%20select%3Afocus%20%7B%0A%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20border-color%3A%20%23ff6a00%3B%0A%20%20%20%20%20%20box-shadow%3A%200%200%200%203px%20rgba%28255%2C%20106%2C%200%2C%200.1%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20button%20%7B%20%0A%20%20%20%20%20%20padding%3A%2010px%2020px%3B%20%0A%20%20%20%20%20%20border-radius%3A%208px%3B%20%0A%20%20%20%20%20%20border%3A%20none%3B%20%0A%20%20%20%20%20%20font-size%3A%2014px%3B%20%0A%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%20%20cursor%3A%20pointer%3B%20%0A%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%7D%0A%20%20%20%20button%3Ahover%20%7B%20%0A%20%20%20%20%20%20transform%3A%20translateY%28-1px%29%3B%0A%20%20%20%20%20%20box-shadow%3A%200%204px%208px%20rgba%280%2C0%2C0%2C0.15%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20button%3Aactive%20%7B%0A%20%20%20%20%20%20transform%3A%20translateY%280%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20button%3Adisabled%20%7B%0A%20%20%20%20%20%20transform%3A%20none%3B%0A%20%20%20%20%20%20opacity%3A%200.7%3B%0A%20%20%20%20%20%20cursor%3A%20not-allowed%3B%0A%20%20%20%20%7D%0A%20%20%20%20.btn-primary%20%7B%20background%3A%20%23ff6a00%3B%20color%3A%20white%3B%20%7D%0A%20%20%20%20.btn-primary%3Ahover%20%7B%20background%3A%20%23e55a00%3B%20%7D%0A%20%20%20%20.btn-stop%20%7B%20background%3A%20%236c757d%3B%20color%3A%20white%3B%20%7D%0A%20%20%20%20.btn-stop%3Ahover%20%7B%20background%3A%20%235a6268%3B%20%7D%0A%20%20%20%20.btn-save%20%7B%20background%3A%20%2328a745%3B%20color%3A%20white%3B%20%7D%0A%20%20%20%20.btn-save%3Ahover%20%7B%20background%3A%20%23218838%3B%20%7D%0A%20%20%20%20.btn-secondary%20%7B%20background%3A%20%236c757d%3B%20color%3A%20white%3B%20%7D%0A%20%20%20%20.btn-secondary%3Ahover%20%7B%20background%3A%20%235a6268%3B%20%7D%0A%20%20%20%20.btn-row%20%7B%20%0A%20%20%20%20%20%20display%3A%20flex%3B%20%0A%20%20%20%20%20%20gap%3A%2010px%3B%20%0A%20%20%20%20%20%20margin-top%3A%2016px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.btn-row%20button%20%7B%0A%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20.form-grid%20%7B%0A%20%20%20%20%20%20display%3A%20grid%3B%0A%20%20%20%20%20%20grid-template-columns%3A%20repeat%28auto-fit%2C%20minmax%28200px%2C%201fr%29%29%3B%0A%20%20%20%20%20%20gap%3A%2016px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.form-group%20%7B%0A%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%7D%0A%20%20%20%20.checkbox-group%20%7B%20%0A%20%20%20%20%20%20display%3A%20grid%3B%20%0A%20%20%20%20%20%20grid-template-columns%3A%20repeat%28auto-fill%2C%20minmax%28100px%2C%201fr%29%29%3B%20%0A%20%20%20%20%20%20gap%3A%208px%3B%20%0A%20%20%20%20%20%20margin-top%3A%208px%3B%20%0A%20%20%20%20%7D%0A%20%20%20%20.checkbox-group%20label%2C%20.checkbox-row%20label%20%7B%20%0A%20%20%20%20%20%20font-weight%3A%20normal%3B%20%0A%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20gap%3A%206px%3B%0A%20%20%20%20%20%20padding%3A%208px%3B%0A%20%20%20%20%20%20border-radius%3A%206px%3B%0A%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20transition%3A%20background%200.2s%3B%0A%20%20%20%20%7D%0A%20%20%20%20.checkbox-group%20label%3Ahover%2C%20.checkbox-row%20label%3Ahover%20%7B%0A%20%20%20%20%20%20background%3A%20%23f5f5f5%3B%0A%20%20%20%20%7D%0A%20%20%20%20.checkbox-group%20input%5Btype%3D%22checkbox%22%5D%2C%20.checkbox-row%20input%5Btype%3D%22checkbox%22%5D%20%7B%0A%20%20%20%20%20%20width%3A%20auto%3B%0A%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%7D%0A%20%20%20%20.checkbox-row%20%7B%0A%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.hidden%20%7B%20display%3A%20none%3B%20%7D%0A%20%20%20%20a%20%7B%20color%3A%20%234da3ff%3B%20text-decoration%3A%20underline%3B%20%7D%0A%20%20%20%20.status-bar%20%7B%20%0A%20%20%20%20%20%20padding%3A%2012px%2016px%3B%20%0A%20%20%20%20%20%20border-radius%3A%208px%3B%20%0A%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%7D%0A%20%20%20%20.status-bar.success%20%7B%20background%3A%20%23d4edda%3B%20color%3A%20%23155724%3B%20border-left%3A%204px%20solid%20%2328a745%3B%20%7D%0A%20%20%20%20.status-bar.error%20%7B%20background%3A%20%23f8d7da%3B%20color%3A%20%23721c24%3B%20border-left%3A%204px%20solid%20%23dc3545%3B%20%7D%0A%20%20%20%20.status-bar.warning%20%7B%20background%3A%20%23fff3cd%3B%20color%3A%20%23856404%3B%20border-left%3A%204px%20solid%20%23ffc107%3B%20%7D%0A%20%20%20%20.status-bar.processing%20%7B%20background%3A%20%23d1ecf1%3B%20color%3A%20%230c5460%3B%20border-left%3A%204px%20solid%20%2317a2b8%3B%20%7D%0A%20%20%20%20.log%20%7B%20%0A%20%20%20%20%20%20background%3A%20%231e1e1e%3B%20%0A%20%20%20%20%20%20color%3A%20%230f0%3B%20%0A%20%20%20%20%20%20padding%3A%2016px%3B%20%0A%20%20%20%20%20%20height%3A%20300px%3B%20%0A%20%20%20%20%20%20overflow%3A%20auto%3B%20%0A%20%20%20%20%20%20font-size%3A%2012px%3B%20%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20font-family%3A%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20%20%20%20%20line-height%3A%201.6%3B%0A%20%20%20%20%7D%0A%20%20%20%20.log%3A%3A-webkit-scrollbar%20%7B%20width%3A%208px%3B%20%7D%0A%20%20%20%20.log%3A%3A-webkit-scrollbar-track%20%7B%20background%3A%20%232a2a2a%3B%20%7D%0A%20%20%20%20.log%3A%3A-webkit-scrollbar-thumb%20%7B%20background%3A%20%23555%3B%20border-radius%3A%204px%3B%20%7D%0A%20%20%20%20.log%3A%3A-webkit-scrollbar-thumb%3Ahover%20%7B%20background%3A%20%23777%3B%20%7D%0A%0A%20%20%20%20/*%20%u5B9A%u65F6%u4EFB%u52A1%u5217%u8868%u6837%u5F0F%20%28%u4E3B%u9875%u7279%u6709%29%20*/%0A%20%20%20%20.task-list%20%7B%20margin-top%3A%2012px%3B%20%7D%0A%20%20%20%20.task-item%20%7B%20%0A%20%20%20%20%20%20background%3A%20%23f8f9fa%3B%20%0A%20%20%20%20%20%20padding%3A%2016px%3B%20%0A%20%20%20%20%20%20margin-bottom%3A%2012px%3B%20%0A%20%20%20%20%20%20border-radius%3A%208px%3B%20%0A%20%20%20%20%20%20border-left%3A%204px%20solid%20%23ff6a00%3B%20%0A%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20transition%3A%20box-shadow%200.2s%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-item%3Ahover%20%7B%20box-shadow%3A%200%202px%208px%20rgba%280%2C0%2C0%2C0.1%29%3B%20%7D%0A%20%20%20%20.task-item.pending%20%7B%20border-left-color%3A%20%232196F3%3B%20%7D%0A%20%20%20%20.task-item.processing%20%7B%20border-left-color%3A%20%23ff9800%3B%20background%3A%20%23fff8e1%3B%20%7D%0A%20%20%20%20.task-item.success%20%7B%20border-left-color%3A%20%234CAF50%3B%20background%3A%20%23e8f5e9%3B%20%7D%0A%20%20%20%20.task-item.expired%20%7B%20border-left-color%3A%20%23999%3B%20background%3A%20%23f5f5f5%3B%20opacity%3A%200.7%3B%20%7D%0A%20%20%20%20.task-item.error%20%7B%20border-left-color%3A%20%23f44336%3B%20background%3A%20%23ffebee%3B%20%7D%0A%20%20%20%20.task-info%20%7B%20font-size%3A%2013px%3B%20line-height%3A%201.8%3B%20%7D%0A%20%20%20%20.task-info%20strong%20%7B%20color%3A%20%23333%3B%20font-size%3A%2014px%3B%20%7D%0A%20%20%20%20.task-status%20%7B%20%0A%20%20%20%20%20%20display%3A%20inline-block%3B%20%0A%20%20%20%20%20%20padding%3A%204px%2010px%3B%20%0A%20%20%20%20%20%20border-radius%3A%204px%3B%20%0A%20%20%20%20%20%20font-size%3A%2011px%3B%20%0A%20%20%20%20%20%20margin-left%3A%208px%3B%20%0A%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-status.pending%20%7B%20background%3A%20%23e3f2fd%3B%20color%3A%20%231976d2%3B%20%7D%0A%20%20%20%20.task-status.processing%20%7B%20background%3A%20%23ffe0b2%3B%20color%3A%20%23e65100%3B%20%7D%0A%20%20%20%20.task-status.success%20%7B%20background%3A%20%23c8e6c9%3B%20color%3A%20%23388e3c%3B%20%7D%0A%20%20%20%20.task-status.expired%20%7B%20background%3A%20%23e0e0e0%3B%20color%3A%20%23757575%3B%20%7D%0A%20%20%20%20.task-status.error%20%7B%20background%3A%20%23ffcdd2%3B%20color%3A%20%23c62828%3B%20%7D%0A%20%20%20%20.task-delete%20%7B%20%0A%20%20%20%20%20%20position%3A%20absolute%3B%20%0A%20%20%20%20%20%20top%3A%2012px%3B%20%0A%20%20%20%20%20%20right%3A%2012px%3B%20%0A%20%20%20%20%20%20background%3A%20%23dc3545%3B%20%0A%20%20%20%20%20%20color%3A%20white%3B%20%0A%20%20%20%20%20%20border%3A%20none%3B%20%0A%20%20%20%20%20%20padding%3A%206px%2012px%3B%20%0A%20%20%20%20%20%20border-radius%3A%206px%3B%20%0A%20%20%20%20%20%20cursor%3A%20pointer%3B%20%0A%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-delete%3Ahover%20%7B%20background%3A%20%23c82333%3B%20opacity%3A%201%3B%20%7D%0A%20%20%20%20.task-countdown%20%7B%20color%3A%20%23ff6a00%3B%20font-weight%3A%20bold%3B%20%7D%0A%20%20%20%20.no-tasks%20%7B%20text-align%3A%20center%3B%20color%3A%20%23999%3B%20padding%3A%2040px%2020px%3B%20font-size%3A%2014px%3B%20%7D%0A%0A%20%20%20%20/*%20%u4EFB%u52A1%u8BBE%u7F6E%u533A%u57DF%u6837%u5F0F%20*/%0A%20%20%20%20.task-settings%20%7B%0A%20%20%20%20%20%20margin-top%3A%2012px%3B%0A%20%20%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20%20%20border-radius%3A%206px%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%23e0e0e0%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-settings-grid%20%7B%0A%20%20%20%20%20%20display%3A%20grid%3B%0A%20%20%20%20%20%20grid-template-columns%3A%20repeat%28auto-fit%2C%20minmax%28150px%2C%201fr%29%29%3B%0A%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-setting-item%20%7B%0A%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-setting-item%20label%20%7B%0A%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-setting-item%20input%20%7B%0A%20%20%20%20%20%20padding%3A%206px%208px%3B%0A%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.task-setting-badge%20%7B%0A%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20padding%3A%202px%208px%3B%0A%20%20%20%20%20%20background%3A%20%23e3f2fd%3B%0A%20%20%20%20%20%20color%3A%20%231976d2%3B%0A%20%20%20%20%20%20border-radius%3A%204px%3B%0A%20%20%20%20%20%20font-size%3A%2011px%3B%0A%20%20%20%20%20%20margin-left%3A%206px%3B%0A%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20/*%20%u547D%u4E2D%u5546%u54C1%u5217%u8868%20%28%u901A%u7528%29%20*/%0A%20%20%20%20.matched-goods-list%20%7B%20margin-top%3A%208px%3B%20max-height%3A%20400px%3B%20overflow-y%3A%20auto%3B%20%7D%0A%20%20%20%20.matched-goods-list%3A%3A-webkit-scrollbar%20%7B%20width%3A%208px%3B%20%7D%0A%20%20%20%20.matched-goods-list%3A%3A-webkit-scrollbar-track%20%7B%20background%3A%20%23f0f0f0%3B%20border-radius%3A%204px%3B%20%7D%0A%20%20%20%20.matched-goods-list%3A%3A-webkit-scrollbar-thumb%20%7B%20background%3A%20%23ccc%3B%20border-radius%3A%204px%3B%20%7D%0A%20%20%20%20.matched-item%20%7B%0A%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20flex-wrap%3A%20wrap%3B%20gap%3A%208px%3B%0A%20%20%20%20%20%20padding%3A%2012px%3B%20margin-bottom%3A%208px%3B%20background%3A%20%23f8f9fa%3B%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20border-left%3A%204px%20solid%20%2328a745%3B%20font-size%3A%2013px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.matched-item%20.matched-name%20%7B%20font-weight%3A%20600%3B%20color%3A%20%23333%3B%20min-width%3A%20100px%3B%20%7D%0A%20%20%20%20.matched-item%20.matched-meta%20%7B%20color%3A%20%23666%3B%20%7D%0A%20%20%20%20.matched-item%20a%20%7B%20color%3A%20%234da3ff%3B%20text-decoration%3A%20underline%3B%20%7D%0A%20%20%20%20.matched-item%20a%3Ahover%20%7B%20text-decoration%3A%20none%3B%20%7D%0A%20%20%20%20.no-matched%20%7B%20text-align%3A%20center%3B%20color%3A%20%23999%3B%20padding%3A%2024px%3B%20font-size%3A%2014px%3B%20%7D%0A%0A%20%20%20%20/*%20%u626B%u4EF7%u503C%u7279%u6709%u6837%u5F0F%20*/%0A%20%20%20%20.matched-item%20.worth-earn%20%7B%0A%20%20%20%20%20%20font-size%3A%2018px%3B%20font-weight%3A%20700%3B%20color%3A%20%2328a745%3B%20margin-right%3A%2012px%3B%0A%20%20%20%20%20%20flex-basis%3A%20100%25%3B%20margin-bottom%3A%204px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.formula-options%20%7B%20margin-top%3A%208px%3B%20%7D%0A%20%20%20%20.formula-option%20%7B%0A%20%20%20%20%20%20display%3A%20grid%3B%20grid-template-columns%3A%20auto%201fr%3B%20gap%3A%2012px%2016px%3B%0A%20%20%20%20%20%20align-items%3A%20start%3B%20margin-bottom%3A%2012px%3B%20padding%3A%2012px%2014px%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%20background%3A%20%23f8f9fa%3B%0A%20%20%20%20%7D%0A%20%20%20%20.formula-option%20input%5Btype%3D%22radio%22%5D%20%7B%20margin%3A%203px%200%200%200%3B%20cursor%3A%20pointer%3B%20%7D%0A%20%20%20%20.formula-desc%20%7B%20font-size%3A%2014px%3B%20line-height%3A%201.7%3B%20color%3A%20%23333%3B%20%7D%0A%20%20%20%20.formula-desc%20strong%20%7B%20display%3A%20inline-block%3B%20margin-right%3A%206px%3B%20%7D%0A%20%20%20%20.formula-desc%20.line%20%7B%20display%3A%20block%3B%20margin-top%3A%202px%3B%20%7D%0A%20%20%20%20.formula-threshold%20%7B%20margin-top%3A%2012px%3B%20%7D%0A%20%20%20%20.formula-threshold%20label%20%7B%20margin-bottom%3A%204px%3B%20%7D%0A%20%20%20%20.formula-threshold%20input%20%7B%20max-width%3A%20120px%3B%20%7D%0A%0A%20%20%20%20/*%20Tab%20%u6837%u5F0F%20*/%0A%20%20%20%20.tab-nav%20%7B%0A%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20gap%3A%2010px%3B%0A%20%20%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20%20%20background%3A%20rgba%28255%2C%20255%2C%20255%2C%200.2%29%3B%0A%20%20%20%20%20%20padding%3A%206px%3B%0A%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.tab-btn%20%7B%0A%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20background%3A%20transparent%3B%0A%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20opacity%3A%200.8%3B%0A%20%20%20%20%7D%0A%20%20%20%20.tab-btn%3Ahover%20%7B%0A%20%20%20%20%20%20background%3A%20rgba%28255%2C%20255%2C%20255%2C%200.1%29%3B%0A%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20.tab-btn.active%20%7B%0A%20%20%20%20%20%20background%3A%20white%3B%0A%20%20%20%20%20%20color%3A%20%23ff6a00%3B%0A%20%20%20%20%20%20box-shadow%3A%200%204px%2012px%20rgba%280%2C0%2C0%2C0.1%29%3B%0A%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20@media%20%28max-width%3A%20768px%29%20%7B%0A%20%20%20%20%20%20.form-grid%20%7B%20grid-template-columns%3A%201fr%3B%20%7D%0A%20%20%20%20%20%20.btn-row%20%7B%20flex-direction%3A%20column%3B%20%7D%0A%20%20%20%20%20%20.checkbox-group%20%7B%20grid-template-columns%3A%20repeat%282%2C%201fr%29%3B%20%7D%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Cdiv%20class%3D%22container%22%3E%0A%20%20%20%20%3C%21--%20%u9876%u90E8%u6807%u9898%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22card%22%20style%3D%22text-align%3A%20center%3B%20padding%3A%2020px%3B%22%3E%0A%20%20%20%20%20%20%3Ch1%20style%3D%22margin%3A%200%3B%22%3E%uD83D%uDEE0%uFE0F%2052108%20%u5DE5%u5177%u7BB1%3C/h1%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20Tab%20%u5BFC%u822A%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22tab-nav%22%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%20active%22%20onclick%3D%22switchTab%28%27home%27%29%22%3E%uD83C%uDFAE%20%u5B9A%u65F6%u4E0B%u5355%20%26%20%u76D1%u542C%3C/button%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%22%20onclick%3D%22switchTab%28%27scan%27%29%22%3E%uD83D%uDC8E%20%u4EF7%u503C%u5546%u54C1%u7B5B%u9009%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20Tab%20%u5185%u5BB9%3A%20%u4E3B%u9875%20%28%u5B9A%u65F6%u4E0B%u5355%20%26%20%u76D1%u542C%29%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22tab-home%22%3E%0A%20%20%20%20%20%20%3C%21--%20%u539F%u4E3B%u9875%u5185%u5BB9%20--%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch1%3E%uD83C%uDFAE%2052108%u5546%u54C1%u76D1%u542C%20V3.6%uFF08%u7B5B%u9009+%u5B9A%u65F6%u4E0B%u5355%uFF09%3C/h1%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22statusBar%22%20class%3D%22status-bar%20hidden%22%3E%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%uD83D%uDCCB%20%u57FA%u7840%u7B5B%u9009%u8BBE%u7F6E%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u5546%u54C1%u7C7B%u578B%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22type%22%20onchange%3D%22onTypeChange%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%2299%22%3E%u89D2%u8272%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%221%22%3E%u88C5%u5907%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%222%22%3E%u6D88%u8017%u54C1%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%223%22%3E%u6709%u9650%u54C1%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%224%22%3E%u6750%u6599%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%225%22%3E%u6742%u8D27%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%226%22%3E%u6253%u6346%u9053%u5177%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22jobBox%22%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u804C%u4E1A%u7B5B%u9009%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22checkbox-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22job-checkbox%22%20value%3D%221%22%3E%20%u6218%u58EB%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22job-checkbox%22%20value%3D%222%22%3E%20%u6CD5%u5E08%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22job-checkbox%22%20value%3D%223%22%3E%20%u672F%u58EB%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22equipBox%22%20class%3D%22form-group%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u88C5%u5907%u90E8%u4F4D%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22checkbox-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%221%22%3E%20%u6B66%u5668%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%222%22%3E%20%u5934%u76D4%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%223%22%3E%20%u62A4%u8155%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%226%22%3E%20%u8863%u670D%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%229%22%3E%20%u7B26%u5492%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%228%22%3E%20%u978B%u5B50%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%225%22%3E%20%u8170%u5E26%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%224%22%3E%20%u9879%u94FE%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%227%22%3E%20%u6212%u6307%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2210%22%3E%20%u52CB%u7AE0%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2211%22%3E%20%u5B9D%u77F3%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2212%22%3E%20%u7FC5%u8180%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2215%22%3E%20%u6CD5%u5B9D%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2214%22%3E%20%u5750%u9A91%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2213%22%3E%20%u76FE%u724C%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2216%22%3E%20%u65F6%u88C5%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2217%22%3E%20%u6597%u7B20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22equip-checkbox%22%20value%3D%2233%22%3E%20%u5176%u4ED6%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-grid%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6700%u4F4E%u4EF7%u683C%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22priceStart%22%20type%3D%22number%22%20value%3D%221%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6700%u9AD8%u4EF7%u683C%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22priceEnd%22%20type%3D%22number%22%20value%3D%2299%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6708%u5361%u5269%u4F59%u5929%u6570%20%u2265%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22cardDays%22%20type%3D%22number%22%20value%3D%220%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u5145%u503C%u91D1%u989D%20%u2265%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22recharge%22%20type%3D%22number%22%20value%3D%220%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6D41%u6D3E%u7B5B%u9009%uFF08%u652F%u6301%u591A%u4E2A%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22flow%22%20placeholder%3D%22%u4F8B%u5982%uFF1A%u9053%u7384%2C%u9B3C%u738B%20%u9752%u4E91%28%u4E0D%u586B%u5219%u4E0D%u7B5B%u9009%29%22%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%uD83D%uDD10%20%u8D26%u53F7%u8BBE%u7F6E%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-grid%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u8D26%u53F7%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22username%22%20placeholder%3D%22%u8BF7%u8F93%u5165%u8D26%u53F7%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u5BC6%u7801%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22password%22%20type%3D%22password%22%20placeholder%3D%22%u8BF7%u8F93%u5165%u5BC6%u7801%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u624B%u52A8%u4E0B%u5355%u5546%u54C1ID%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-grid%22%20style%3D%22grid-template-columns%3A%201fr%20auto%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22manualGoodsId%22%20placeholder%3D%22%u8F93%u5165%u5546%u54C1ID%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22manualCreateOrder%28%29%22%20class%3D%22btn-secondary%22%20style%3D%22margin-top%3A%200%3B%22%3E%u624B%u52A8%u4E0B%u5355%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%u2699%uFE0F%20%u76D1%u542C%u8BBE%u7F6E%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22checkbox-row%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20id%3D%22debug%22%20/%3E%20Debug%u8BE6%u7EC6%u65E5%u5FD7%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20id%3D%22barkJump%22%20/%3E%20Bark%20%u63A8%u9001%u53EF%u70B9%u51FB%u8DF3%u8F6C%u5546%u54C1%u9875%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20id%3D%22autoOrder%22%20/%3E%20%u547D%u4E2D%u540E%u81EA%u52A8%u4E0B%u5355%20+%20Bark%3C/label%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3EBark%20Key%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22bark%22%20placeholder%3D%22https%3A//api.day.app/%u4F60%u7684key%22%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-grid%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u8F6E%u8BE2%u95F4%u9694%uFF08%u79D2%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22interval%22%20type%3D%22number%22%20value%3D%221800%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6BCF%u6279%u5E76%u53D1%u68C0%u6D4BID%u6570%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22batchSize%22%20type%3D%22number%22%20value%3D%225%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u767B%u5F55%u5931%u8D25%u91CD%u8BD5%u6B21%u6570%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22loginRetry%22%20type%3D%22number%22%20value%3D%223%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u4E0B%u5355%u5931%u8D25%u91CD%u8BD5%u6B21%u6570%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id%3D%22orderRetry%22%20type%3D%22number%22%20value%3D%223%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22btn-row%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick%3D%22startMonitor%28%29%22%20class%3D%22btn-primary%22%3E%u25B6%uFE0F%20%u5F00%u59CB%u76D1%u542C%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn-stop%22%20onclick%3D%22stopMonitor%28%29%22%3E%u23F9%uFE0F%20%u505C%u6B62%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn-save%22%20onclick%3D%22saveSettings%28%29%22%3E%uD83D%uDCBE%20%u4FDD%u5B58%u8BBE%u7F6E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%u23F0%20%u5B9A%u65F6%u4E0B%u5355%u4EFB%u52A1%u5217%u8868%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22taskList%22%20class%3D%22task-list%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22no-tasks%22%3E%u6682%u65E0%u5B9A%u65F6%u4EFB%u52A1%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%uD83D%uDCDD%20%u8FD0%u884C%u65E5%u5FD7%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22log%22%20id%3D%22log%22%3E%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%uD83C%uDFAF%20%u547D%u4E2D%u5546%u54C1%u5217%u8868%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22matchedGoodsList%22%20class%3D%22matched-goods-list%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22no-matched%22%3E%u6682%u65E0%u547D%u4E2D%u8BB0%u5F55%uFF0C%u5F00%u59CB%u76D1%u542C%u540E%u547D%u4E2D%u4F1A%u663E%u793A%u5728%u6B64%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%0A%20%20%20%20%3Cdiv%20id%3D%22tab-scan%22%20class%3D%22hidden%22%3E%0A%20%20%20%20%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch1%3E%u7B5B%u9009%u4EF7%u503C%u5546%u54C1%3C/h1%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22val_statusBar%22%20class%3D%22status-bar%20hidden%22%3E%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%u57FA%u7840%u7B5B%u9009%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Clabel%3E%u804C%u4E1A%uFF08%u53EF%u591A%u9009%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22checkbox-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22val-job-cb%22%20value%3D%221%22%3E%20%u6218%u58EB%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22val-job-cb%22%20value%3D%222%22%3E%20%u6CD5%u5E08%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20class%3D%22val-job-cb%22%20value%3D%223%22%3E%20%u672F%u58EB%3C/label%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22checkbox-row%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20id%3D%22val_onlyPresale%22%3E%20%u4EC5%u76D1%u542C%u9884%u552E%u5546%u54C1%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%3Cinput%20type%3D%22checkbox%22%20id%3D%22val_debug%22%3E%20Debug%20%u8BE6%u7EC6%u65E5%u5FD7%3C/label%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%u8FDB%u9636%u7B5B%u9009%uFF08%u7559%u7A7A%u5219%u4E0D%u7B5B%uFF09%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-grid%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6D41%u6D3E%u7B5B%u9009%uFF08%u591A%u4E2A%u7528%u9017%u53F7/%u7A7A%u683C%u5206%u9694%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22val_flow%22%20placeholder%3D%22%u4F8B%u5982%uFF1A%u5929%u5FCD%20%u9053%u7384%20%u9752%u4E91%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u5145%u503C%u91D1%u989D%20%u2265%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20id%3D%22val_recharge%22%20value%3D%220%22%20min%3D%220%22%20placeholder%3D%220%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u6708%u5361%u5269%u4F59%u5929%u6570%20%u2265%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20id%3D%22val_cardDays%22%20value%3D%220%22%20min%3D%220%22%20placeholder%3D%220%22%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%u4EF7%u503C%u516C%u5F0F%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22formula-options%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22formula-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20name%3D%22formula%22%20value%3D%221%22%20id%3D%22val_formula1%22%20checked%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22formula-desc%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3E%u516C%u5F0F%u4E00%3C/strong%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22line%22%3E%u6709%u6708%u5361%uFF1A%28%u5546%u884C%20+%20%u62BC%u9556%29%20/%20300%20%26gt%3B%20%u552E%u4EF7%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22line%22%3E%u65E0%u6708%u5361%uFF1A%28%u5546%u884C%20+%20%u62BC%u9556%29%20/%20300%20-%2030%20%26gt%3B%20%u552E%u4EF7%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22formula-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20name%3D%22formula%22%20value%3D%222%22%20id%3D%22val_formula2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22formula-desc%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3E%u516C%u5F0F%u4E8C%3C/strong%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22line%22%3E%u6709%u6708%u5361%uFF1A%u5546%u884C%20/%20300%20%26gt%3B%20%u552E%u4EF7%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22line%22%3E%u65E0%u6708%u5361%uFF1A%u5546%u884C%20/%20300%20-%2030%20%26gt%3B%20%u552E%u4EF7%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22formula-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22radio%22%20name%3D%22formula%22%20value%3D%223%22%20id%3D%22val_formula3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22formula-desc%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3E%u516C%u5F0F%u4E09%3C/strong%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22line%22%3E%u6709%u6708%u5361%uFF1A%28%u5546%u884C%20/%20300%20+%20%u62BC%u9556%20/%20300%20%D7%200.66%29%20%26gt%3B%20%u552E%u4EF7%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22line%22%3E%u65E0%u6708%u5361%uFF1A%28%u5546%u884C%20/%20300%20+%20%u62BC%u9556%20/%20300%20%D7%200.66%29%20-%2030%20%26gt%3B%20%u552E%u4EF7%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/label%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22formula-threshold%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u9608%u503C%uFF08%u7559%u7A7A%3D0%uFF0C%u586B%20-30%20%u5373%u4EF7%u503C-30%uFF0C%u586B%2020%20%u5373%u4EF7%u503C+20%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20id%3D%22val_threshold%22%20placeholder%3D%22%u4F8B%u5982%20-30%20%u6216%2020%22%20step%3D%221%22%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%3E%u6BCF%u6279%u5E76%u53D1%u68C0%u6D4B%20ID%20%u6570%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20id%3D%22val_batchSize%22%20value%3D%225%22%20min%3D%221%22%20max%3D%2220%22%20/%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%20style%3D%22margin-top%3A%2012px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u8F6E%u8BE2%u95F4%u9694%uFF08%u79D2%uFF0C0%20%3D%20%u8FDE%u7EED%u626B%u63CF%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20id%3D%22val_interval%22%20value%3D%220%22%20min%3D%220%22%20max%3D%223600%22%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22btn-row%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22val_btnStart%22%20class%3D%22btn-primary%22%3E%u542F%u52A8%u76D1%u542C%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22val_btnStop%22%20class%3D%22btn-stop%22%20disabled%3E%u505C%u6B62%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22val_btnSave%22%20class%3D%22btn-save%22%3E%u4FDD%u5B58%u8BBE%u7F6E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20space-between%3B%20gap%3A%208px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Ch2%20style%3D%22margin-bottom%3A%200%3B%22%3E%u503C%u5F97%u5217%u8868%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22button%22%0A%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22btn-stop%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22padding%3A%206px%2012px%3B%20font-size%3A%2012px%3B%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22valClearWorthList%28%29%22%0A%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%u6E05%u7A7A%u5217%u8868%0A%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22val_worthList%22%20class%3D%22matched-goods-list%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22no-matched%22%3E%u6682%u65E0%uFF0C%u6EE1%u8DB3%u4EF7%u503C%u516C%u5F0F%u7684%u5546%u54C1%u4F1A%u663E%u793A%u5728%u8FD9%u91CC%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22card%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%u8FD0%u884C%u65E5%u5FD7%3C/h2%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22log%22%20id%3D%22val_log%22%3E%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20//%20Tab%20%u5207%u6362%u903B%u8F91%0A%20%20%20%20function%20switchTab%28tab%29%20%7B%0A%20%20%20%20%20%20document.querySelectorAll%28%27.tab-btn%27%29.forEach%28b%20%3D%3E%20b.classList.remove%28%27active%27%29%29%3B%0A%20%20%20%20%20%20event.currentTarget.classList.add%28%27active%27%29%3B%0A%0A%20%20%20%20%20%20if%20%28tab%20%3D%3D%3D%20%27home%27%29%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27tab-home%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27tab-scan%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27tab-home%27%29.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27tab-scan%27%29.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%3C/script%3E%0A%0A%0A%20%20%3Cscript%3E%0Alet%20timer%20%3D%20null%3B%0Alet%20seen%20%3D%20new%20Set%28%29%3B%0Alet%20running%20%3D%20false%3B%0A//%20Token%20%u7BA1%u7406%0Alet%20token%20%3D%20%22%22%3B%0Alet%20tokenExpireTime%20%3D%200%3B%0A//%20%u91CD%u8BD5%u914D%u7F6E%0Aconst%20RETRY_DELAYS%20%3D%20%5B1000%2C%203000%2C%205000%5D%3B%0Aconst%20FAST_RETRY_DELAY%20%3D%200%3B%0Aconst%20BURST_MS%20%3D%202000%3B%0A//%20%u9ED8%u8BA4%u5E76%u53D1%u91CF%uFF1A%u7206%u53D1%u671F%u4E0E%u6301%u7EED%u671F%u90FD%u4F7F%u7528%201%0Aconst%20BURST_CONCURRENCY%20%3D%201%3B%0Aconst%20SUSTAIN_CONCURRENCY%20%3D%201%3B%0A//%20%u5B9A%u65F6%u4EFB%u52A1%u7BA1%u7406%0Alet%20scheduledTasks%20%3D%20%5B%5D%3B%0Alet%20taskCheckTimer%20%3D%20null%3B%0A//%20%u547D%u4E2D%u5546%u54C1%u5217%u8868%uFF08%u7528%u4E8E%u9875%u9762%u5E95%u90E8%u5C55%u793A%uFF09%0Alet%20matchedGoodsList%20%3D%20%5B%5D%3B%0Afunction%20log%28msg%29%20%7B%0A%20%20const%20el%20%3D%20document.getElementById%28%22log%22%29%3B%0A%20%20const%20timestamp%20%3D%20new%20Date%28%29.toLocaleTimeString%28%29%3B%0A%20%20el.innerHTML%20+%3D%20%60%5B%24%7Btimestamp%7D%5D%20%24%7Bmsg%7D%3Cbr%3E%60%3B%0A%20%20el.scrollTop%20%3D%20el.scrollHeight%3B%0A%7D%0Afunction%20showStatus%28msg%2C%20type%20%3D%20%27success%27%29%20%7B%0A%20%20const%20statusBar%20%3D%20document.getElementById%28%27statusBar%27%29%3B%0A%20%20statusBar.textContent%20%3D%20msg%3B%0A%20%20statusBar.className%20%3D%20%27status-bar%27%3B%0A%20%20if%20%28type%20%3D%3D%3D%20%27error%27%29%20statusBar.classList.add%28%27error%27%29%3B%0A%20%20if%20%28type%20%3D%3D%3D%20%27warning%27%29%20statusBar.classList.add%28%27warning%27%29%3B%0A%20%20statusBar.classList.remove%28%27hidden%27%29%3B%0A%7D%0Afunction%20onTypeChange%28%29%20%7B%0A%20%20const%20type%20%3D%20document.getElementById%28%22type%22%29.value%3B%0A%20%20document.getElementById%28%22jobBox%22%29.classList.toggle%28%22hidden%22%2C%20type%20%21%3D%3D%20%2299%22%29%3B%0A%20%20document.getElementById%28%22equipBox%22%29.classList.toggle%28%22hidden%22%2C%20type%20%21%3D%3D%20%221%22%29%3B%0A%7D%0Afunction%20getCheckedJobs%28%29%20%7B%0A%20%20return%20Array.from%28document.querySelectorAll%28%27.job-checkbox%3Achecked%27%29%29%0A%20%20%20%20.map%28i%20%3D%3E%20i.value%29%0A%20%20%20%20.join%28%22%2C%22%29%3B%0A%7D%0Afunction%20getCheckedEquipments%28%29%20%7B%0A%20%20return%20Array.from%28document.querySelectorAll%28%27.equip-checkbox%3Achecked%27%29%29%0A%20%20%20%20.map%28i%20%3D%3E%20i.value%29%0A%20%20%20%20.join%28%22%2C%22%29%3B%0A%7D%0Afunction%20buildApiUrl%28skip%2C%20maxCount%29%20%7B%0A%20%20const%20type%20%3D%20typeEl.value%3B%0A%20%20const%20priceStart%20%3D%20priceStartEl.value%3B%0A%20%20const%20priceEnd%20%3D%20priceEndEl.value%3B%0A%20%20const%20timestamp%20%3D%20Date.now%28%29%3B%0A%20%20let%20url%20%3D%20%60https%3A//api.52108.com/api/services/cbg/Goods/GetIndexGoodsPaged%3FGameServerId%3D%26TypeList%3D%26PriceStart%3D%24%7BpriceStart%7D%26PriceEnd%3D%24%7BpriceEnd%7D%26EquipmentTypeList%3D%26Id%3D%26Name%3D%26Sorting%3D%26SkipCount%3D%24%7Bskip%7D%26MaxResultCount%3D%24%7BmaxCount%7D%26OnlyPlayed%3Dfalse%26time%3D%24%7Btimestamp%7D%26type%3D%24%7Btype%7D%60%3B%0A%20%20if%20%28type%20%3D%3D%3D%20%2299%22%29%20%7B%0A%20%20%20%20const%20jobList%20%3D%20getCheckedJobs%28%29%3B%0A%20%20%20%20if%20%28jobList%29%20%7B%0A%20%20%20%20%20%20url%20+%3D%20%60%26RoleJobList%3D%24%7BencodeURIComponent%28jobList%29%7D%60%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20if%20%28type%20%3D%3D%3D%20%221%22%29%20%7B%0A%20%20%20%20const%20equipList%20%3D%20getCheckedEquipments%28%29%3B%0A%20%20%20%20if%20%28equipList%29%20%7B%0A%20%20%20%20%20%20url%20%3D%20url.replace%28%27EquipmentTypeList%3D%27%2C%20%60EquipmentTypeList%3D%24%7BencodeURIComponent%28equipList%29%7D%60%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20url%3B%0A%7D%0Aasync%20function%20fetchTotal%28%29%20%7B%0A%20%20const%20url%20%3D%20buildApiUrl%280%2C%201%29%3B%0A%20%20const%20res%20%3D%20await%20fetch%28url%29%3B%0A%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20return%20data.result%3F.totalCount%20%7C%7C%200%3B%0A%7D%0Aasync%20function%20fetchAllItems%28total%29%20%7B%0A%20%20//%20%u4E3A%u4E86%u5E94%u5BF9%u63A5%u53E3%u5076%u5C14%u670D%u52A1%u7E41%u5FD9%u65F6%u8FD4%u56DE%u5F02%u5E38%u6570%u636E%u7684%u60C5%u51B5%uFF1A%0A%20%20//%201.%20%u4E00%u6B21%u6027%u62C9%u53D6%20total+100%20%u6761%uFF0C%u5C3D%u91CF%u8986%u76D6%u8FD9%u6B21%20totalCount%20%u9644%u8FD1%u7684%u5168%u90E8%u6570%u636E%uFF1B%0A%20%20//%202.%20%u518D%u6B21%u8BFB%u53D6%20totalCount%uFF0C%u5BF9%u6BD4%u672C%u6B21%u4E0E%u521D%u59CB%u7684%u5DEE%u503C%uFF0C%u82E5%u8D85%u8FC7%20100%20%u89C6%u4E3A%u5F02%u5E38%u5E76%u91CD%u8BD53%u6B21%u3002%0A%20%20let%20currentTotal%20%3D%20total%3B%0A%20%20let%20attempt%20%3D%200%3B%0A%20%20let%20lastItems%20%3D%20%5B%5D%3B%0A%20%20while%20%28attempt%20%3C%203%29%20%7B%0A%20%20%20%20const%20safeMax%20%3D%20currentTotal%20+%20100%3B%0A%20%20%20%20const%20url%20%3D%20buildApiUrl%280%2C%20safeMax%29%3B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28url%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20const%20items%20%3D%20data.result%3F.items%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20lastItems%20%3D%20items%3B%0A%0A%20%20%20%20//%20%u518D%u6B21%u83B7%u53D6%20totalCount%20%u505A%u6821%u9A8C%0A%20%20%20%20let%20newTotal%20%3D%200%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20newTotal%20%3D%20await%20fetchTotal%28%29%3B%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20newTotal%20%3D%20currentTotal%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20diff%20%3D%20Math.abs%28newTotal%20-%20total%29%3B%0A%20%20%20%20if%20%28diff%20%3C%3D%20100%29%20%7B%0A%20%20%20%20%20%20//%20totalCount%20%u4E0E%u6700%u521D%u7ED3%u679C%u5728%20100%20%u4EE5%u5185%uFF0C%u8BA4%u4E3A%u6B63%u5E38%0A%20%20%20%20%20%20return%20items%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20log%28%60%u26A0%20%u5217%u8868%20totalCount%20%u5F02%u5E38%uFF0C%u521D%u59CB%3D%24%7Btotal%7D%uFF0C%u5F53%u524D%3D%24%7BnewTotal%7D%uFF0C%u5DEE%u503C%3D%24%7Bdiff%7D%uFF0C%u5C1D%u8BD5%u91CD%u65B0%u83B7%u53D6%20%28%u7B2C%20%24%7Battempt%20+%201%7D%20%u6B21%29...%60%29%3B%0A%20%20%20%20currentTotal%20%3D%20newTotal%3B%0A%20%20%20%20attempt++%3B%0A%20%20%20%20await%20delay%28500%29%3B%0A%20%20%7D%0A%20%20//%20%u591A%u6B21%u91CD%u8BD5%u4F9D%u7136%u5F02%u5E38%uFF0C%u8FD4%u56DE%u6700%u540E%u4E00%u6B21%u62FF%u5230%u7684%u6570%u636E%uFF0C%u907F%u514D%u6B7B%u5FAA%u73AF%0A%20%20return%20lastItems%3B%0A%7D%0Aasync%20function%20getRoleExtra%28goodsId%29%20%7B%0A%20%20const%20t0%20%3D%20Date.now%28%29%3B%0A%20%20const%20res%20%3D%20await%20fetch%28%60https%3A//api.52108.com/api/services/app/GameRoleInfo/GetGameRoleInfo%3FGoodsId%3D%24%7BgoodsId%7D%60%29%3B%0A%20%20const%20j%20%3D%20await%20res.json%28%29%3B%0A%20%20const%20html%20%3D%20j.result%5B0%5D.data%3B%0A%20%20const%20cardMatch%20%3D%20html.match%28/%u6708%u5361%u5230%u671F%u65F6%u95F4%uFF1A.*%3Fval%27%3E%28.*%3F%29%3C/%29%3B%0A%20%20let%20days%20%3D%200%3B%0A%20%20if%20%28cardMatch%20%26%26%20cardMatch%5B1%5D%20%21%3D%3D%20%22%u65E0%u6708%u5361%22%29%20%7B%0A%20%20%20%20days%20%3D%20Math.floor%28%28new%20Date%28cardMatch%5B1%5D%29%20-%20new%20Date%28%29%29%20/%2086400000%29%3B%0A%20%20%7D%0A%20%20const%20flowMatch%20%3D%20html.match%28/%u6D41%u6D3E%uFF1A.*%3Fval%27%3E%28.*%3F%29%3C/%29%3B%0A%20%20const%20flow%20%3D%20flowMatch%20%3F%20flowMatch%5B1%5D%20%3A%20%22%22%3B%0A%20%20const%20rechargeMatch%20%3D%20html.match%28/%u5145%u503C%uFF1A.*%3Fval%27%3E%28%5Cd+%29%3C/%29%3B%0A%20%20const%20recharge%20%3D%20rechargeMatch%20%3F%20Number%28rechargeMatch%5B1%5D%29%20%3A%200%3B%0A%20%20const%20cost%20%3D%20Date.now%28%29%20-%20t0%3B%0A%20%20return%20%7B%20days%2C%20flow%2C%20recharge%2C%20cost%20%7D%3B%0A%7D%0Afunction%20parseFlows%28text%29%20%7B%0A%20%20if%20%28%21text%29%20return%20%5B%5D%3B%0A%20%20return%20text.split%28/%5B%2C%5Cs%u3001%uFF0C%5D+/%29.map%28s%20%3D%3E%20s.trim%28%29%29.filter%28Boolean%29%3B%0A%7D%0Afunction%20matchFlow%28target%2C%20flows%29%20%7B%0A%20%20if%20%28flows.length%20%3D%3D%3D%200%29%20return%20true%3B%0A%20%20return%20flows.some%28f%20%3D%3E%20target.includes%28f%29%29%3B%0A%7D%0Afunction%20delay%28ms%29%20%7B%0A%20%20return%20new%20Promise%28resolve%20%3D%3E%20setTimeout%28resolve%2C%20ms%29%29%3B%0A%7D%0Afunction%20isTerminalOrderError%28message%29%20%7B%0A%20%20if%20%28%21message%29%20return%20false%3B%0A%20%20const%20msg%20%3D%20String%28message%29%3B%0A%20%20return%20%28%0A%20%20%20%20msg.includes%28%22%u5F53%u524D%u5546%u54C1%u4EA4%u6613%u4E2D%22%29%20%7C%7C%0A%20%20%20%20msg.includes%28%22%u5DF2%u552E%22%29%20%7C%7C%0A%20%20%20%20msg.includes%28%22%u4E0D%u5B58%u5728%22%29%20%7C%7C%0A%20%20%20%20msg.includes%28%22%u4E0B%u67B6%22%29%20%7C%7C%0A%20%20%20%20msg.includes%28%22%u5E93%u5B58%u4E0D%u8DB3%22%29%20%7C%7C%0A%20%20%20%20msg.includes%28%22%u4E0D%u53EF%u8D2D%u4E70%22%29%0A%20%20%29%3B%0A%7D%0Aasync%20function%20rushOrder%28goodsId%2C%20customConcurrency%29%20%7B%0A%20%20const%20burstConcurrency%20%3D%20customConcurrency%20%7C%7C%20BURST_CONCURRENCY%3B%0A%20%20const%20start%20%3D%20Date.now%28%29%3B%0A%20%20const%20burstEnd%20%3D%20start%20+%20BURST_MS%3B%0A%20%20let%20active%20%3D%200%3B%0A%20%20let%20done%20%3D%20false%3B%0A%20%20let%20finalResult%20%3D%20null%3B%0A%20%20const%20isSuccessResult%20%3D%20%28r%29%20%3D%3E%20%21%21%28r%20%26%26%20r.success%29%3B%0A%20%20const%20isScheduledResult%20%3D%20%28r%29%20%3D%3E%20%21%21%28r%20%26%26%20r.scheduledTask%29%3B%0A%20%20const%20isTerminalResult%20%3D%20%28r%29%20%3D%3E%20%21%21%28r%20%26%26%20r.terminalError%29%3B%0A%20%20const%20spawn%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28done%29%20return%3B%0A%20%20%20%20active++%3B%0A%20%20%20%20%28async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20res%20%3D%20await%20createOrder%28goodsId%2C%200%2C%20%7B%20fastRetry%3A%20true%2C%20maxRetryOverride%3A%200%20%7D%29%3B%0A%20%20%20%20%20%20%20%20//%20%u7ED3%u679C%u4F18%u5148%u7EA7%uFF1Asuccess%20%3E%20scheduledTask%20%3E%20terminalError%0A%20%20%20%20%20%20%20%20if%20%28res%20%26%26%20res.success%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20%u4E00%u65E6%u6709%u6210%u529F%uFF0C%u6C38%u8FDC%u4EE5%u6210%u529F%u4E3A%u51C6%uFF08%u907F%u514D%u88AB%u540E%u7EED%u5931%u8D25%u8986%u76D6%uFF09%0A%20%20%20%20%20%20%20%20%20%20finalResult%20%3D%20res%3B%0A%20%20%20%20%20%20%20%20%20%20done%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28res%20%26%26%20res.scheduledTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20%u4EC5%u5F53%u76EE%u524D%u8FD8%u6CA1%u6709%u6210%u529F/%u7EC8%u6B62%u9519%u8BEF%u65F6%uFF0C%u8BB0%u5F55%20scheduledTask%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isSuccessResult%28finalResult%29%20%26%26%20%21isTerminalResult%28finalResult%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20finalResult%20%3D%20res%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20done%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20const%20msg%20%3D%20JSON.stringify%28res%3F.error%3F.message%20%7C%7C%20res%29%3B%0A%20%20%20%20%20%20%20%20if%20%28isTerminalOrderError%28msg%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20%u7EC8%u6B62%u9519%u8BEF%u53EA%u5728%u5C1A%u672A%u6210%u529F%u65F6%u8BB0%u5F55%uFF1B%u540E%u7EED%u82E5%u6709%u6210%u529F%u5230%u6765%u4ECD%u53EF%u8986%u76D6%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isSuccessResult%28finalResult%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20finalResult%20%3D%20%7B%20success%3A%20false%2C%20terminalError%3A%20true%2C%20message%3A%20msg%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20done%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20const%20msg%20%3D%20e%3F.message%20%7C%7C%20String%28e%29%3B%0A%20%20%20%20%20%20%20%20if%20%28isTerminalOrderError%28msg%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isSuccessResult%28finalResult%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20finalResult%20%3D%20%7B%20success%3A%20false%2C%20terminalError%3A%20true%2C%20message%3A%20msg%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20done%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20finally%20%7B%0A%20%20%20%20%20%20%20%20active--%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%7D%3B%0A%20%20while%20%28%21done%29%20%7B%0A%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20const%20targetConcurrency%20%3D%20now%20%3C%3D%20burstEnd%20%3F%20burstConcurrency%20%3A%20SUSTAIN_CONCURRENCY%3B%0A%20%20%20%20while%20%28%21done%20%26%26%20active%20%3C%20targetConcurrency%29%20%7B%0A%20%20%20%20%20%20spawn%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28done%29%20break%3B%0A%20%20%20%20await%20delay%28FAST_RETRY_DELAY%29%3B%0A%20%20%7D%0A%20%20//%20%u82E5%u4E0D%u662F%u6210%u529F%u7ED3%u679C%uFF0C%u7ED9%u4ECD%u5728%u98DE%u7684%u5E76%u53D1%u8BF7%u6C42%u4E00%u4E2A%u77ED%u6682%u201C%u6536%u5C3E%u7A97%u53E3%u201D%uFF0C%0A%20%20//%20%u9632%u6B62%u5148%u6536%u5230%u7EC8%u6B62%u9519%u8BEF%u5C31%u8FD4%u56DE%uFF0C%u4F46%u540E%u9762%u5176%u5B9E%u6709%u8BF7%u6C42%u6210%u529F%u3002%0A%20%20if%20%28%21isSuccessResult%28finalResult%29%20%26%26%20active%20%3E%200%29%20%7B%0A%20%20%20%20const%20waitUntil%20%3D%20Date.now%28%29%20+%201500%3B%0A%20%20%20%20while%20%28active%20%3E%200%20%26%26%20Date.now%28%29%20%3C%20waitUntil%29%20%7B%0A%20%20%20%20%20%20await%20delay%2810%29%3B%0A%20%20%20%20%20%20if%20%28isSuccessResult%28finalResult%29%29%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20finalResult%3B%0A%7D%0Afunction%20saveToken%28accessToken%29%20%7B%0A%20%20token%20%3D%20accessToken%3B%0A%20%20tokenExpireTime%20%3D%20Date.now%28%29%20+%2023%20*%2060%20*%2060%20*%201000%3B%0A%20%20const%20tokenData%20%3D%20%7B%0A%20%20%20%20token%3A%20accessToken%2C%0A%20%20%20%20expireTime%3A%20tokenExpireTime%2C%0A%20%20%20%20username%3A%20usernameEl.value.trim%28%29%0A%20%20%7D%3B%0A%20%20localStorage.setItem%28%22barkMonitorToken%22%2C%20JSON.stringify%28tokenData%29%29%3B%0A%20%20log%28%22%u2714%20Token%20%u5DF2%u4FDD%u5B58%u5230%u672C%u5730%u5B58%u50A8%22%29%3B%0A%7D%0Afunction%20loadToken%28%29%20%7B%0A%20%20const%20tokenStr%20%3D%20localStorage.getItem%28%22barkMonitorToken%22%29%3B%0A%20%20if%20%28%21tokenStr%29%20return%20false%3B%0A%20%20try%20%7B%0A%20%20%20%20const%20tokenData%20%3D%20JSON.parse%28tokenStr%29%3B%0A%20%20%20%20if%20%28tokenData.expireTime%20%26%26%20tokenData.expireTime%20%3E%20Date.now%28%29%29%20%7B%0A%20%20%20%20%20%20if%20%28tokenData.username%20%3D%3D%3D%20usernameEl.value.trim%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20token%20%3D%20tokenData.token%3B%0A%20%20%20%20%20%20%20%20tokenExpireTime%20%3D%20tokenData.expireTime%3B%0A%20%20%20%20%20%20%20%20const%20remainHours%20%3D%20Math.floor%28%28tokenExpireTime%20-%20Date.now%28%29%29%20/%203600000%29%3B%0A%20%20%20%20%20%20%20%20log%28%60%u2714%20%u5DF2%u52A0%u8F7D%u672C%u5730%20Token%uFF08%u5269%u4F59%u6709%u6548%u671F%u7EA6%20%24%7BremainHours%7D%20%u5C0F%u65F6%uFF09%60%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%60Token%20%u6709%u6548%uFF0C%u5269%u4F59%20%24%7BremainHours%7D%20%u5C0F%u65F6%60%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20log%28%22%u672C%u5730%20Token%20%u7528%u6237%u540D%u4E0D%u5339%u914D%uFF0C%u9700%u91CD%u65B0%u767B%u5F55%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20log%28%22%u672C%u5730%20Token%20%u5DF2%u8FC7%u671F%uFF0C%u9700%u91CD%u65B0%u767B%u5F55%22%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%22%u52A0%u8F7D%u672C%u5730%20Token%20%u5931%u8D25%3A%20%22%20+%20e.message%29%3B%0A%20%20%7D%0A%20%20localStorage.removeItem%28%22barkMonitorToken%22%29%3B%0A%20%20token%20%3D%20%22%22%3B%0A%20%20tokenExpireTime%20%3D%200%3B%0A%20%20return%20false%3B%0A%7D%0Afunction%20isTokenExpiringSoon%28%29%20%7B%0A%20%20if%20%28%21token%20%7C%7C%20%21tokenExpireTime%29%20return%20true%3B%0A%20%20return%20%28tokenExpireTime%20-%20Date.now%28%29%29%20%3C%2060%20*%2060%20*%201000%3B%0A%7D%0Aasync%20function%20login%28user%2C%20pass%2C%20retryCount%20%3D%200%29%20%7B%0A%20%20const%20maxRetry%20%3D%20Number%28loginRetryEl.value%29%20%7C%7C%203%3B%0A%20%20try%20%7B%0A%20%20%20%20log%28%60%u6B63%u5728%u767B%u5F55...%20%28%u5C1D%u8BD5%20%24%7BretryCount%20+%201%7D/%24%7BmaxRetry%20+%201%7D%29%60%29%3B%0A%20%20%20%20showStatus%28%60%u767B%u5F55%u4E2D...%20%28%u5C1D%u8BD5%20%24%7BretryCount%20+%201%7D/%24%7BmaxRetry%20+%201%7D%29%60%2C%20%27warning%27%29%3B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%22https%3A//api.52108.com/api/TokenAuth/AccountAuthenticate%22%2C%20%7B%0A%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20headers%3A%20%7B%20%22Content-Type%22%3A%20%22application/json%22%20%7D%2C%0A%20%20%20%20%20%20body%3A%20JSON.stringify%28%7B%20userName%3A%20user%2C%20password%3A%20pass%20%7D%29%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%20%28%21data.success%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28data.error%3F.message%20%7C%7C%20%22%u767B%u5F55%u5931%u8D25%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20saveToken%28data.result.accessToken%29%3B%0A%20%20%20%20log%28%22%u2714%20%u767B%u5F55%u6210%u529F%22%29%3B%0A%20%20%20%20showStatus%28%22%u767B%u5F55%u6210%u529F%22%2C%20%27success%27%29%3B%0A%20%20%20%20return%20true%3B%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%60%u2718%20%u767B%u5F55%u5931%u8D25%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20if%20%28retryCount%20%3C%20maxRetry%29%20%7B%0A%20%20%20%20%20%20const%20delayMs%20%3D%20RETRY_DELAYS%5BretryCount%5D%20%7C%7C%205000%3B%0A%20%20%20%20%20%20log%28%60%24%7BdelayMs%20/%201000%7D%20%u79D2%u540E%u91CD%u8BD5%u767B%u5F55...%60%29%3B%0A%20%20%20%20%20%20await%20delay%28delayMs%29%3B%0A%20%20%20%20%20%20return%20login%28user%2C%20pass%2C%20retryCount%20+%201%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20log%28%60%u2718%20%u767B%u5F55%u5931%u8D25%uFF0C%u5DF2%u8FBE%u6700%u5927%u91CD%u8BD5%u6B21%u6570%20%28%24%7BmaxRetry%20+%201%7D%29%60%29%3B%0A%20%20%20%20%20%20showStatus%28%60%u767B%u5F55%u5931%u8D25%3A%20%24%7Be.message%7D%60%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20throw%20new%20Error%28%22%u767B%u5F55%u5931%u8D25%3A%20%22%20+%20e.message%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0Aasync%20function%20ensureLogin%28%29%20%7B%0A%20%20const%20user%20%3D%20usernameEl.value.trim%28%29%3B%0A%20%20const%20pass%20%3D%20passwordEl.value.trim%28%29%3B%0A%20%20if%20%28%21user%20%7C%7C%20%21pass%29%20%7B%0A%20%20%20%20throw%20new%20Error%28%22%u8BF7%u586B%u5199%u8D26%u53F7%u548C%u5BC6%u7801%22%29%3B%0A%20%20%7D%0A%20%20if%20%28token%20%26%26%20%21isTokenExpiringSoon%28%29%29%20%7B%0A%20%20%20%20return%20true%3B%0A%20%20%7D%0A%20%20if%20%28%21token%20%26%26%20loadToken%28%29%29%20%7B%0A%20%20%20%20return%20true%3B%0A%20%20%7D%0A%20%20log%28%22Token%20%u65E0%u6548%u6216%u5373%u5C06%u8FC7%u671F%uFF0C%u6B63%u5728%u91CD%u65B0%u767B%u5F55...%22%29%3B%0A%20%20return%20await%20login%28user%2C%20pass%29%3B%0A%7D%0Aasync%20function%20getGoodsDetail%28goodsId%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%60https%3A//api.52108.com/api/services/cbg/Goods/GetById%3Fid%3D%24%7BgoodsId%7D%60%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%20%28data.success%20%26%26%20data.result%29%20%7B%0A%20%20%20%20%20%20return%20data.result%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20null%3B%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%60%u67E5%u8BE2%u5546%u54C1%u8BE6%u60C5%u5931%u8D25%20ID%3D%24%7BgoodsId%7D%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%7D%0Aasync%20function%20createScheduledTask%28goodsId%2C%20errorMessage%29%20%7B%0A%20%20const%20existing%20%3D%20scheduledTasks.find%28t%20%3D%3E%20t.goodsId%20%3D%3D%3D%20goodsId%29%3B%0A%20%20if%20%28existing%29%20%7B%0A%20%20%20%20log%28%60%u23F0%20%u5546%u54C1ID%3D%24%7BgoodsId%7D%20%u5DF2%u6709%u5B9A%u65F6%u4EFB%u52A1%uFF0C%u4E0D%u518D%u91CD%u590D%u521B%u5EFA%60%29%3B%0A%20%20%20%20return%20existing%3B%0A%20%20%7D%0A%20%20log%28%60%u23F0%20%u68C0%u6D4B%u5230%u516C%u793A%u671F%u9650%u5236%uFF0C%u6B63%u5728%u67E5%u8BE2%u5546%u54C1%u8BE6%u60C5...%60%29%3B%0A%20%20const%20goodsDetail%20%3D%20await%20getGoodsDetail%28goodsId%29%3B%0A%20%20if%20%28%21goodsDetail%20%7C%7C%20%21goodsDetail.noticeEndTime%29%20%7B%0A%20%20%20%20log%28%60%u2718%20%u65E0%u6CD5%u83B7%u53D6%u5546%u54C1%20ID%3D%24%7BgoodsId%7D%20%u7684%u516C%u793A%u7ED3%u675F%u65F6%u95F4%60%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20const%20noticeEndTime%20%3D%20new%20Date%28goodsDetail.noticeEndTime%29%3B%0A%20%20const%20taskId%20%3D%20%60task_%24%7BgoodsId%7D_%24%7BDate.now%28%29%7D%60%3B%0A%20%20const%20task%20%3D%20%7B%0A%20%20%20%20id%3A%20taskId%2C%0A%20%20%20%20goodsId%3A%20goodsId%2C%0A%20%20%20%20goodsName%3A%20goodsDetail.name%20%7C%7C%20%60%u5546%u54C1%24%7BgoodsId%7D%60%2C%0A%20%20%20%20server%3A%20goodsDetail.gameServer%3F.subName%20%7C%7C%20%22%u672A%u77E5%u533A%u670D%22%2C%0A%20%20%20%20price%3A%20goodsDetail.price%2C%0A%20%20%20%20noticeEndTime%3A%20noticeEndTime.getTime%28%29%2C%0A%20%20%20%20noticeEndTimeStr%3A%20goodsDetail.noticeEndTime%2C%0A%20%20%20%20status%3A%20%27pending%27%2C%0A%20%20%20%20statusMessage%3A%20%27%27%2C%0A%20%20%20%20createTime%3A%20Date.now%28%29%2C%0A%20%20%20%20orderNumber%3A%20null%2C%0A%20%20%20%20//%20%u63D0%u524D%u62A2%u548C%u5E76%u53D1%u8BBE%u7F6E%uFF08%u9ED8%u8BA4%u503C%uFF09%0A%20%20%20%20advanceMs%3A%200%2C%0A%20%20%20%20customConcurrency%3A%20BURST_CONCURRENCY%0A%20%20%7D%3B%0A%20%20scheduledTasks.push%28task%29%3B%0A%20%20saveScheduledTasks%28%29%3B%0A%20%20renderTaskList%28%29%3B%0A%20%20log%28%60%u2714%20%u5DF2%u521B%u5EFA%u5B9A%u65F6%u4EFB%u52A1%3A%20%24%7Btask.goodsName%7D%20%7C%20%24%7Btask.server%7D%20%7C%20%24%7Btask.price%7D%u5143%20%7C%20%u5C06%u5728%20%24%7BnoticeEndTime.toLocaleString%28%29%7D%20%u81EA%u52A8%u4E0B%u5355%60%29%3B%0A%20%20await%20pushBark%28%22%u521B%u5EFA%u5B9A%u65F6%u4E0B%u5355%u4EFB%u52A1%22%2C%20%60%24%7Btask.goodsName%7D%20%7C%20%24%7Btask.server%7D%20%7C%20%24%7Btask.price%7D%u5143%20%7C%20%24%7BnoticeEndTime.toLocaleString%28%29%7D%60%2C%20%60http%3A//dms.52108.com/%23/pages/shop/detail%3Fid%3D%24%7BgoodsId%7D%60%29%3B%0A%20%20return%20task%3B%0A%7D%0Afunction%20saveScheduledTasks%28%29%20%7B%0A%20%20localStorage.setItem%28%22scheduledTasks%22%2C%20JSON.stringify%28scheduledTasks%29%29%3B%0A%7D%0Afunction%20loadScheduledTasks%28%29%20%7B%0A%20%20const%20tasksStr%20%3D%20localStorage.getItem%28%22scheduledTasks%22%29%3B%0A%20%20if%20%28%21tasksStr%29%20return%3B%0A%20%20try%20%7B%0A%20%20%20%20scheduledTasks%20%3D%20JSON.parse%28tasksStr%29%3B%0A%20%20%20%20//%20%u517C%u5BB9%u6570%u636E%uFF1A%u4E3A%u6CA1%u6709%u65B0%u5B57%u6BB5%u7684%u4EFB%u52A1%u6DFB%u52A0%u9ED8%u8BA4%u503C%0A%20%20%20%20scheduledTasks.forEach%28task%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28task.advanceMs%20%3D%3D%3D%20undefined%20%7C%7C%20task.advanceMs%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20task.advanceMs%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28task.customConcurrency%20%3D%3D%3D%20undefined%29%20task.customConcurrency%20%3D%20BURST_CONCURRENCY%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20log%28%60%u2714%20%u5DF2%u52A0%u8F7D%20%24%7BscheduledTasks.length%7D%20%u4E2A%u5B9A%u65F6%u4EFB%u52A1%60%29%3B%0A%20%20%20%20renderTaskList%28%29%3B%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%22%u52A0%u8F7D%u5B9A%u65F6%u4EFB%u52A1%u5931%u8D25%3A%20%22%20+%20e.message%29%3B%0A%20%20%20%20scheduledTasks%20%3D%20%5B%5D%3B%0A%20%20%7D%0A%7D%0Afunction%20deleteTask%28taskId%29%20%7B%0A%20%20scheduledTasks%20%3D%20scheduledTasks.filter%28t%20%3D%3E%20t.id%20%21%3D%3D%20taskId%29%3B%0A%20%20saveScheduledTasks%28%29%3B%0A%20%20renderTaskList%28%29%3B%0A%20%20log%28%60%u5DF2%u5220%u9664%u4EFB%u52A1%20%24%7BtaskId%7D%60%29%3B%0A%7D%0A//%20%u66F4%u65B0%u4EFB%u52A1%u7684%u63D0%u524D%u62A2%u548C%u5E76%u53D1%u8BBE%u7F6E%0Afunction%20updateTaskSettings%28taskId%29%20%7B%0A%20%20const%20task%20%3D%20scheduledTasks.find%28t%20%3D%3E%20t.id%20%3D%3D%3D%20taskId%29%3B%0A%20%20if%20%28%21task%29%20return%3B%0A%0A%20%20const%20advanceInput%20%3D%20document.getElementById%28%60advance_%24%7BtaskId%7D%60%29%3B%0A%20%20const%20concurrencyInput%20%3D%20document.getElementById%28%60concurrency_%24%7BtaskId%7D%60%29%3B%0A%0A%20%20if%20%28advanceInput%29%20%7B%0A%20%20%20%20const%20raw%20%3D%20advanceInput.value.trim%28%29%3B%0A%20%20%20%20if%20%28raw%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20const%20advanceValue%20%3D%20parseInt%28raw%2C%2010%29%3B%0A%20%20%20%20%20%20if%20%28%21isNaN%28advanceValue%29%29%20%7B%0A%20%20%20%20%20%20%20%20//%20%u9650%u5236%u5728%20-60000%7E60000%20%u6BEB%u79D2%uFF08%u8D1F%u6570%3D%u63D0%u524D%uFF0C%u6B63%u6570%3D%u5EF6%u540E%uFF09%0A%20%20%20%20%20%20%20%20task.advanceMs%20%3D%20Math.max%28-60000%2C%20Math.min%2860000%2C%20advanceValue%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28concurrencyInput%29%20%7B%0A%20%20%20%20const%20raw%20%3D%20concurrencyInput.value.trim%28%29%3B%0A%20%20%20%20if%20%28raw%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20const%20concurrencyValue%20%3D%20parseInt%28raw%2C%2010%29%3B%0A%20%20%20%20%20%20if%20%28%21isNaN%28concurrencyValue%29%29%20%7B%0A%20%20%20%20%20%20%20%20const%20safeConcurrency%20%3D%20concurrencyValue%3B%0A%20%20%20%20%20%20%20%20task.customConcurrency%20%3D%20Math.max%281%2C%20Math.min%2850%2C%20safeConcurrency%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20saveScheduledTasks%28%29%3B%0A%20%20renderTaskList%28%29%3B%0A%20%20log%28%60%u2714%20%u5DF2%u66F4%u65B0%u4EFB%u52A1%20%24%7Btask.goodsName%7D%20%u7684%u62A2%u8D2D%u8BBE%u7F6E%60%29%3B%0A%7D%0Afunction%20renderTaskList%28%29%20%7B%0A%20%20const%20container%20%3D%20document.getElementById%28%27taskList%27%29%3B%0A%20%20if%20%28scheduledTasks.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20container.innerHTML%20%3D%20%27%3Cdiv%20class%3D%22no-tasks%22%3E%u6682%u65E0%u5B9A%u65F6%u4EFB%u52A1%3C/div%3E%27%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20container.innerHTML%20%3D%20scheduledTasks.map%28task%20%3D%3E%20%7B%0A%20%20%20%20const%20noticeEndTime%20%3D%20task.noticeEndTime%3B%0A%20%20%20%20//%20%u8BA1%u7B97%u5B9E%u9645%u6267%u884C%u65F6%u95F4%uFF08%u504F%u79FB%u91CF%uFF0C%u8D1F%u6570%3D%u63D0%u524D%uFF0C%u6B63%u6570%3D%u5EF6%u540E%uFF09%0A%20%20%20%20const%20advanceMs%20%3D%20task.advanceMs%20%7C%7C%200%3B%0A%20%20%20%20const%20executeTime%20%3D%20noticeEndTime%20+%20advanceMs%3B%0A%20%20%20%20const%20timeRemaining%20%3D%20executeTime%20-%20now%3B%0A%20%20%20%20let%20statusClass%20%3D%20task.status%3B%0A%20%20%20%20let%20statusText%20%3D%20%27%27%3B%0A%20%20%20%20let%20countdown%20%3D%20%27%27%3B%0A%20%20%20%20if%20%28task.status%20%3D%3D%3D%20%27success%27%29%20%7B%0A%20%20%20%20%20%20const%20paymentLink%20%3D%20task.orderId%20%0A%20%20%20%20%20%20%20%20%3F%20%60%20%7C%20%3Ca%20href%3D%22%24%7BgetPaymentUrl%28task.orderId%29%7D%22%20target%3D%22_blank%22%20style%3D%22color%3A%20%23ff6a00%3B%20font-weight%3A%20bold%3B%22%3E%u70B9%u51FB%u53BB%u4ED8%u6B3E%3C/a%3E%60%0A%20%20%20%20%20%20%20%20%3A%20%27%27%3B%0A%20%20%20%20%20%20statusText%20%3D%20%60%u4E0B%u5355%u6210%u529F%20%u8BA2%u5355%u53F7%3A%24%7Btask.orderNumber%7D%24%7BpaymentLink%7D%60%3B%0A%20%20%20%20%7D%20else%20if%20%28task.status%20%3D%3D%3D%20%27error%27%29%20%7B%0A%20%20%20%20%20%20statusText%20%3D%20%60%u4E0B%u5355%u5931%u8D25%3A%20%24%7Btask.statusMessage%7D%60%3B%0A%20%20%20%20%7D%20else%20if%20%28task.status%20%3D%3D%3D%20%27processing%27%29%20%7B%0A%20%20%20%20%20%20statusText%20%3D%20%27%u4E0B%u5355%u4E2D...%27%3B%0A%20%20%20%20%7D%20else%20if%20%28timeRemaining%20%3C%200%29%20%7B%0A%20%20%20%20%20%20statusText%20%3D%20%27%u5DF2%u8FC7%u671F%27%3B%0A%20%20%20%20%20%20statusClass%20%3D%20%27expired%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20statusText%20%3D%20%27%u7B49%u5F85%u4E2D%27%3B%0A%20%20%20%20%20%20const%20hours%20%3D%20Math.floor%28timeRemaining%20/%203600000%29%3B%0A%20%20%20%20%20%20const%20minutes%20%3D%20Math.floor%28%28timeRemaining%20%25%203600000%29%20/%2060000%29%3B%0A%20%20%20%20%20%20const%20seconds%20%3D%20Math.floor%28%28timeRemaining%20%25%2060000%29%20/%201000%29%3B%0A%20%20%20%20%20%20countdown%20%3D%20%60%3Cspan%20class%3D%22task-countdown%22%3E%u5012%u8BA1%u65F6%3A%20%24%7Bhours%7Dh%20%24%7Bminutes%7Dm%20%24%7Bseconds%7Ds%3C/span%3E%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%u6784%u5EFA%u8BBE%u7F6E%u533A%u57DF%uFF08%u4EC5%u5728%u7B49%u5F85%u4E2D%u72B6%u6001%u663E%u793A%uFF09%0A%20%20%20%20let%20settingsHtml%20%3D%20%27%27%3B%0A%20%20%20%20if%20%28task.status%20%3D%3D%3D%20%27pending%27%29%20%7B%0A%20%20%20%20%20%20settingsHtml%20%3D%20%60%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22task-settings%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin-bottom%3A%208px%3B%20font-weight%3A%20600%3B%20color%3A%20%23333%3B%20font-size%3A%2013px%3B%22%3E%u2699%uFE0F%20%u62A2%u8D2D%u8BBE%u7F6E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22task-settings-grid%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22task-setting-item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u62A2%u8D2D%u504F%u79FB%uFF08%u6BEB%u79D2%uFF0C%u8D1F%u6570%3D%u63D0%u524D%uFF0C%u6B63%u6570%3D%u5EF6%u540E%uFF09%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22number%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3D%22advance_%24%7Btask.id%7D%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3D%22%24%7BadvanceMs%7D%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%3D%22-60000%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max%3D%2260000%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20step%3D%2210%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22task-setting-item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3E%u5E76%u53D1%u6570%u91CF%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22number%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3D%22concurrency_%24%7Btask.id%7D%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3D%22%24%7Btask.customConcurrency%7D%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%3D%221%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max%3D%2250%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin-top%3A%208px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22button%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22btn-save%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22padding%3A6px%2012px%3B%20font-size%3A12px%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22updateTaskSettings%28%27%24%7Btask.id%7D%27%29%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%u4FDD%u5B58%u62A2%u8D2D%u8BBE%u7F6E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7BadvanceMs%20%21%3D%3D%200%20%3F%20%60%3Cdiv%20style%3D%22margin-top%3A%208px%3B%20font-size%3A%2012px%3B%20color%3A%20%23666%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%u5B9E%u9645%u62A2%u8D2D%u65F6%u95F4%uFF1A%24%7Bnew%20Date%28executeTime%29.toLocaleString%28%29%7D%uFF08%u76F8%u5BF9%u516C%u793A%u7ED3%u675F%20%24%7BadvanceMs%20%3E%200%20%3F%20%27%u5EF6%u540E%27%20%3A%20%27%u63D0%u524D%27%7D%20%24%7BMath.abs%28advanceMs%29%7D%20%u6BEB%u79D2%uFF09%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%20%3A%20%27%27%7D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%u663E%u793A%u5F53%u524D%u8BBE%u7F6E%u7684%u6807%u8BB0%0A%20%20%20%20const%20settingsBadges%20%3D%20task.status%20%3D%3D%3D%20%27pending%27%20%0A%20%20%20%20%20%20%3F%20%28advanceMs%20%21%3D%3D%200%20%7C%7C%20task.customConcurrency%20%21%3D%3D%20BURST_CONCURRENCY%0A%20%20%20%20%20%20%20%20%3F%20%60%3Cspan%20class%3D%22task-setting-badge%22%3E%24%7BadvanceMs%20%3E%200%20%3F%20%27%u5EF6%u540E%27%20%3A%20%27%u63D0%u524D%27%7D%24%7BMath.abs%28advanceMs%29%7Dms%3C/span%3E%3Cspan%20class%3D%22task-setting-badge%22%3E%u5E76%u53D1%24%7Btask.customConcurrency%7D%3C/span%3E%60%0A%20%20%20%20%20%20%20%20%3A%20%27%27%29%0A%20%20%20%20%20%20%3A%20%27%27%3B%0A%0A%20%20%20%20return%20%60%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22task-item%20%24%7BstatusClass%7D%22%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22task-delete%22%20onclick%3D%22deleteTask%28%27%24%7Btask.id%7D%27%29%22%3E%u5220%u9664%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22task-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%3E%24%7Btask.goodsName%7D%3C/strong%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22task-status%20%24%7BstatusClass%7D%22%3E%24%7BstatusText%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%7BsettingsBadges%7D%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%u5546%u54C1ID%3A%20%3Ca%20href%3D%22http%3A//dms.52108.com/%23/pages/shop/detail%3Fid%3D%24%7Btask.goodsId%7D%22%20target%3D%22_blank%22%20style%3D%22color%3A%20%234da3ff%3B%20text-decoration%3A%20underline%3B%22%3E%24%7Btask.goodsId%7D%3C/a%3E%20%7C%20%u533A%u670D%3A%20%24%7Btask.server%7D%20%7C%20%u4EF7%u683C%3A%20%24%7Btask.price%7D%u5143%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%u516C%u793A%u7ED3%u675F%u65F6%u95F4%3A%20%24%7Bnew%20Date%28noticeEndTime%29.toLocaleString%28%29%7D%uFF08%u539F%u59CB%3A%20%24%7BescapeHtml%28task.noticeEndTimeStr%20%7C%7C%20%27%27%29%7D%uFF09%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7Bcountdown%20%3F%20%60%3Cdiv%3E%24%7Bcountdown%7D%3C/div%3E%60%20%3A%20%27%27%7D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%24%7BsettingsHtml%7D%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%60%3B%0A%20%20%7D%29.join%28%27%27%29%3B%0A%7D%0Afunction%20renderMatchedGoodsList%28%29%20%7B%0A%20%20const%20container%20%3D%20document.getElementById%28%27matchedGoodsList%27%29%3B%0A%20%20if%20%28%21container%29%20return%3B%0A%20%20if%20%28matchedGoodsList.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20container.innerHTML%20%3D%20%27%3Cdiv%20class%3D%22no-matched%22%3E%u6682%u65E0%u547D%u4E2D%u8BB0%u5F55%uFF0C%u5F00%u59CB%u76D1%u542C%u540E%u547D%u4E2D%u4F1A%u663E%u793A%u5728%u6B64%3C/div%3E%27%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20container.innerHTML%20%3D%20matchedGoodsList.map%28m%20%3D%3E%20%7B%0A%20%20%20%20const%20url%20%3D%20%60http%3A//dms.52108.com/%23/pages/shop/detail%3Fid%3D%24%7Bm.id%7D%60%3B%0A%20%20%20%20const%20rechargeMark%20%3D%20m.recharge%20%3E%3D%200%20%3F%20%60%24%7Bm.recharge%7D%u2714%60%20%3A%20%60%24%7Bm.recharge%7D%u2718%60%3B%0A%20%20%20%20//%20%u547D%u4E2D%u5217%u8868%u4E2D%u7684%20Debug%20%u98CE%u683C%u65E5%u5FD7%u5DF2%u7ECF%u5728%u4E0A%u65B9%u8F93%u51FA%uFF0C%u8FD9%u91CC%u4E3B%u8981%u5C55%u793A%u6570%u636E%u53CA%u4E00%u952E%u64CD%u4F5C%0A%20%20%20%20return%20%60%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22matched-item%22%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-name%22%3E%24%7BescapeHtml%28m.name%29%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3EID%3A%20%3Ca%20href%3D%22%24%7Burl%7D%22%20target%3D%22_blank%22%3E%24%7Bm.id%7D%3C/a%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u533A%u670D%3A%20%24%7BescapeHtml%28m.server%29%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u4EF7%u683C%3A%20%24%7Bm.price%7D%u5143%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u5145%u503C%3A%20%24%7Bm.recharge%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u6708%u5361%3A%20%24%7Bm.days%7D%u5929%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u6D41%u6D3E%3A%20%24%7BescapeHtml%28m.flow%29%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%24%7Bm.hitTime%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20%0A%20%20%20%20%20%20%20%20%20%20type%3D%22button%22%0A%20%20%20%20%20%20%20%20%20%20class%3D%22btn-primary%22%0A%20%20%20%20%20%20%20%20%20%20style%3D%22margin-left%3Aauto%3B%20padding%3A4px%2010px%3B%20font-size%3A12px%3B%22%0A%20%20%20%20%20%20%20%20%20%20onclick%3D%22oneClickOrder%28%24%7Bm.id%7D%29%22%0A%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%u4E00%u952E%u4E0B%u5355%0A%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%60%3B%0A%20%20%7D%29.join%28%27%27%29%3B%0A%7D%0Afunction%20escapeHtml%28str%29%20%7B%0A%20%20if%20%28str%20%3D%3D%20null%29%20return%20%27%27%3B%0A%20%20const%20div%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20div.textContent%20%3D%20str%3B%0A%20%20return%20div.innerHTML%3B%0A%7D%0Aasync%20function%20checkScheduledTasks%28%29%20%7B%0A%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20for%20%28const%20task%20of%20scheduledTasks%29%20%7B%0A%20%20%20%20if%20%28task.status%20%21%3D%3D%20%27pending%27%29%20continue%3B%0A%20%20%20%20%0A%20%20%20%20//%20%u8BA1%u7B97%u5B9E%u9645%u6267%u884C%u65F6%u95F4%uFF08%u504F%u79FB%u91CF%uFF0C%u8D1F%u6570%3D%u63D0%u524D%uFF0C%u6B63%u6570%3D%u5EF6%u540E%uFF09%0A%20%20%20%20const%20advanceMs%20%3D%20task.advanceMs%20%7C%7C%200%3B%0A%20%20%20%20const%20executeTime%20%3D%20task.noticeEndTime%20+%20advanceMs%3B%0A%20%20%20%20const%20timeUntil%20%3D%20executeTime%20-%20now%3B%0A%20%20%20%20//%20%u5728%u6267%u884C%u65F6%u95F4%u5230%u8FBE%u65F6%uFF08%u6216%u5DF2%u8FC7%u671F%u4F46%u672A%u8D85%u8FC760%u79D2%uFF09%u89E6%u53D1%u4E0B%u5355%0A%20%20%20%20if%20%28timeUntil%20%3C%3D%203000%20%26%26%20timeUntil%20%3E%20-60000%29%20%7B%0A%20%20%20%20%20%20task.status%20%3D%20%27processing%27%3B%0A%20%20%20%20%20%20task.statusMessage%20%3D%20%27%u4E0B%u5355%u4E2D...%27%3B%0A%20%20%20%20%20%20saveScheduledTasks%28%29%3B%0A%20%20%20%20%20%20renderTaskList%28%29%3B%0A%20%20%20%20%20%20let%20advanceInfo%20%3D%20%27%27%3B%0A%20%20%20%20%20%20if%20%28advanceMs%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20const%20dir%20%3D%20advanceMs%20%3E%200%20%3F%20%27%u5EF6%u540E%27%20%3A%20%27%u63D0%u524D%27%3B%0A%20%20%20%20%20%20%20%20advanceInfo%20%3D%20%60%20%28%24%7Bdir%7D%24%7BMath.abs%28advanceMs%29%7D%u6BEB%u79D2%uFF0C%u5E76%u53D1%24%7Btask.customConcurrency%7D%29%60%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20log%28%60%u23F0%20%u5B9A%u65F6%u4EFB%u52A1%u5230%u671F%uFF0C%u5F00%u59CB%u4E0B%u5355%3A%20%24%7Btask.goodsName%7D%20%28ID%3D%24%7Btask.goodsId%7D%29%24%7BadvanceInfo%7D%60%29%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20//%20%u4F7F%u7528%u4EFB%u52A1%u81EA%u5B9A%u4E49%u7684%u5E76%u53D1%u6570%u91CF%0A%20%20%20%20%20%20%20%20const%20orderRes%20%3D%20await%20rushOrder%28task.goodsId%2C%20task.customConcurrency%29%3B%0A%20%20%20%20%20%20%20%20if%20%28orderRes%20%26%26%20orderRes.success%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20orderId%20%3D%20orderRes.result.id%3B%0A%20%20%20%20%20%20%20%20%20%20const%20orderNumber%20%3D%20orderRes.result.orderNumber%3B%0A%20%20%20%20%20%20%20%20%20%20const%20paymentUrl%20%3D%20getPaymentUrl%28orderId%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20paymentLink%20%3D%20%60%3Ca%20href%3D%22%24%7BpaymentUrl%7D%22%20target%3D%22_blank%22%3E%u70B9%u51FB%u53BB%u4ED8%u6B3E%3C/a%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20task.status%20%3D%20%27success%27%3B%0A%20%20%20%20%20%20%20%20%20%20task.orderId%20%3D%20orderId%3B%0A%20%20%20%20%20%20%20%20%20%20task.orderNumber%20%3D%20orderNumber%3B%0A%20%20%20%20%20%20%20%20%20%20task.statusMessage%20%3D%20%27%u4E0B%u5355%u6210%u529F%27%3B%0A%20%20%20%20%20%20%20%20%20%20log%28%60%u2714%20%u5B9A%u65F6%u4EFB%u52A1%u4E0B%u5355%u6210%u529F%20%u8BA2%u5355%u53F7%3D%24%7BorderNumber%7D%20%7C%20%24%7BpaymentLink%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20await%20pushBark%28%22%u5B9A%u65F6%u4E0B%u5355%u6210%u529F%22%2C%20%60%24%7Btask.goodsName%7D%20%7C%20%u8BA2%u5355%u53F7%3A%24%7BorderNumber%7D%20%7C%20%u70B9%u51FB%u53BB%u4ED8%u6B3E%60%2C%20paymentUrl%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28orderRes%20%26%26%20orderRes.scheduledTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20task.status%20%3D%20%27pending%27%3B%0A%20%20%20%20%20%20%20%20%20%20task.statusMessage%20%3D%20%27%u516C%u793A%u671F%u9650%u5236%27%3B%0A%20%20%20%20%20%20%20%20%20%20log%28%60%u23F0%20%u4ECD%u5728%u516C%u793A%u671F%uFF0C%u7EE7%u7EED%u7B49%u5F85%3A%20ID%3D%24%7Btask.goodsId%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28orderRes%20%26%26%20orderRes.terminalError%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20task.status%20%3D%20%27error%27%3B%0A%20%20%20%20%20%20%20%20%20%20task.statusMessage%20%3D%20orderRes.message%3B%0A%20%20%20%20%20%20%20%20%20%20log%28%60%u2718%20%u5B9A%u65F6%u4EFB%u52A1%u4E0B%u5355%u5931%u8D25%3A%20%24%7BorderRes.message%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20task.status%20%3D%20%27error%27%3B%0A%20%20%20%20%20%20%20%20%20%20task.statusMessage%20%3D%20%27%u4E0B%u5355%u5931%u8D25%27%3B%0A%20%20%20%20%20%20%20%20%20%20log%28%60%u2718%20%u5B9A%u65F6%u4EFB%u52A1%u4E0B%u5355%u5931%u8D25%3A%20%u672A%u77E5%u9519%u8BEF%60%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20task.status%20%3D%20%27error%27%3B%0A%20%20%20%20%20%20%20%20task.statusMessage%20%3D%20e.message%3B%0A%20%20%20%20%20%20%20%20log%28%60%u2718%20%u5B9A%u65F6%u4EFB%u52A1%u4E0B%u5355%u5F02%u5E38%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20saveScheduledTasks%28%29%3B%0A%20%20%20%20%20%20renderTaskList%28%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%20else%20if%20%28timeUntil%20%3C%20-60000%29%20%7B%0A%20%20%20%20%20%20task.status%20%3D%20%27expired%27%3B%0A%20%20%20%20%20%20task.statusMessage%20%3D%20%27%u4EFB%u52A1%u5DF2%u8FC7%u671F%27%3B%0A%20%20%20%20%20%20saveScheduledTasks%28%29%3B%0A%20%20%20%20%20%20renderTaskList%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0Afunction%20startTaskChecker%28%29%20%7B%0A%20%20if%20%28taskCheckTimer%29%20return%3B%0A%20%20taskCheckTimer%20%3D%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20checkScheduledTasks%28%29%3B%0A%20%20%20%20//%20%u5982%u679C%u5F53%u524D%u6B63%u5728%u7F16%u8F91%u62A2%u8D2D%u8BBE%u7F6E%u8F93%u5165%u6846%uFF0C%u6682%u65F6%u4E0D%u8981%u91CD%u7ED8%u5217%u8868%u907F%u514D%u6253%u5B57%u88AB%u6253%u65AD%0A%20%20%20%20const%20active%20%3D%20document.activeElement%3B%0A%20%20%20%20const%20editing%20%3D%0A%20%20%20%20%20%20active%20%26%26%0A%20%20%20%20%20%20typeof%20active.id%20%3D%3D%3D%20%27string%27%20%26%26%0A%20%20%20%20%20%20%28active.id.startsWith%28%27advance_%27%29%20%7C%7C%20active.id.startsWith%28%27concurrency_%27%29%29%3B%0A%20%20%20%20if%20%28%21editing%29%20%7B%0A%20%20%20%20%20%20renderTaskList%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%20300%29%3B%0A%20%20log%28%22%u2714%20%u5B9A%u65F6%u4EFB%u52A1%u68C0%u67E5%u5668%u5DF2%u542F%u52A8%22%29%3B%0A%7D%0Afunction%20stopTaskChecker%28%29%20%7B%0A%20%20if%20%28taskCheckTimer%29%20%7B%0A%20%20%20%20clearInterval%28taskCheckTimer%29%3B%0A%20%20%20%20taskCheckTimer%20%3D%20null%3B%0A%20%20%7D%0A%7D%0Aasync%20function%20createOrder%28goodsId%2C%20retryCount%20%3D%200%2C%20options%20%3D%20%7B%7D%29%20%7B%0A%20%20const%20maxRetry%20%3D%20Number.isInteger%28options.maxRetryOverride%29%0A%20%20%20%20%3F%20options.maxRetryOverride%0A%20%20%20%20%3A%20%28Number%28orderRetryEl.value%29%20%7C%7C%203%29%3B%0A%20%20const%20fastRetry%20%3D%20options.fastRetry%20%3D%3D%3D%20true%3B%0A%20%20try%20%7B%0A%20%20%20%20await%20ensureLogin%28%29%3B%0A%20%20%20%20log%28%60%u6B63%u5728%u751F%u6210%u8BA2%u5355%20ID%3D%24%7BgoodsId%7D...%20%28%u5C1D%u8BD5%20%24%7BretryCount%20+%201%7D/%24%7BmaxRetry%20+%201%7D%29%60%29%3B%0A%20%20%20%20const%20t0%20%3D%20Date.now%28%29%3B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%22https%3A//api.52108.com/api/services/cbg/Order/Create%22%2C%20%7B%0A%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20headers%3A%20%7B%0A%20%20%20%20%20%20%20%20%22Content-Type%22%3A%20%22application/json%22%2C%0A%20%20%20%20%20%20%20%20%22Authorization%22%3A%20%22Bearer%20%22%20+%20token%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20body%3A%20JSON.stringify%28%7B%20goodsId%3A%20Number%28goodsId%29%20%7D%29%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20const%20t1%20%3D%20Date.now%28%29%3B%0A%20%20%20%20log%28%60%u23F1%20%u4E0B%u5355%u8BF7%u6C42%u8017%u65F6%20%24%7Bt1%20-%20t0%7D%20ms%20%28HTTP%20%24%7Bres.status%7D%29%20ID%3D%24%7BgoodsId%7D%60%29%3B%0A%20%20%20%20if%20%28res.status%20%3D%3D%3D%20401%29%20%7B%0A%20%20%20%20%20%20log%28%22%u26A0%20%u68C0%u6D4B%u5230%20401%20%u672A%u6388%u6743%uFF0CToken%20%u5DF2%u5931%u6548%22%29%3B%0A%20%20%20%20%20%20localStorage.removeItem%28%22barkMonitorToken%22%29%3B%0A%20%20%20%20%20%20token%20%3D%20%22%22%3B%0A%20%20%20%20%20%20tokenExpireTime%20%3D%200%3B%0A%20%20%20%20%20%20if%20%28retryCount%20%3C%20maxRetry%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%22%u6B63%u5728%u91CD%u65B0%u767B%u5F55...%22%29%3B%0A%20%20%20%20%20%20%20%20await%20ensureLogin%28%29%3B%0A%20%20%20%20%20%20%20%20return%20createOrder%28goodsId%2C%20retryCount%20+%201%2C%20options%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error%28%22401%20%u672A%u6388%u6743%uFF0CToken%20%u5931%u6548%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%20%28%21data.success%20%26%26%20data.error%3F.code%20%3D%3D%3D%201011%29%20%7B%0A%20%20%20%20%20%20log%28%60%u26A0%20%24%7Bdata.error.message%7D%60%29%3B%0A%20%20%20%20%20%20await%20createScheduledTask%28goodsId%2C%20data.error.message%29%3B%0A%20%20%20%20%20%20return%20%7B%20success%3A%20false%2C%20scheduledTask%3A%20true%2C%20error%3A%20data.error%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21data.success%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28data.error%3F.message%20%7C%7C%20JSON.stringify%28data%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20data%3B%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20if%20%28e.message%20%26%26%20e.message.includes%28%22%u516C%u793A%u671F%22%29%29%20%7B%0A%20%20%20%20%20%20log%28%60%u26A0%20%u68C0%u6D4B%u5230%u516C%u793A%u671F%u9650%u5236%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20%20%20await%20createScheduledTask%28goodsId%2C%20e.message%29%3B%0A%20%20%20%20%20%20return%20%7B%20success%3A%20false%2C%20scheduledTask%3A%20true%2C%20error%3A%20%7B%20message%3A%20e.message%20%7D%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20log%28%60%u2718%20%u4E0B%u5355%u5931%u8D25%20%28%u5C1D%u8BD5%20%24%7BretryCount%20+%201%7D/%24%7BmaxRetry%20+%201%7D%29%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20if%20%28retryCount%20%3C%20maxRetry%29%20%7B%0A%20%20%20%20%20%20const%20delayMs%20%3D%20fastRetry%20%3F%20FAST_RETRY_DELAY%20%3A%20%28RETRY_DELAYS%5BretryCount%5D%20%7C%7C%205000%29%3B%0A%20%20%20%20%20%20if%20%28%21fastRetry%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%60%24%7BdelayMs%20/%201000%7D%20%u79D2%u540E%u91CD%u8BD5%u4E0B%u5355...%60%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28delayMs%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20await%20delay%28delayMs%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20createOrder%28goodsId%2C%20retryCount%20+%201%2C%20options%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20log%28%60%u2718%20%u4E0B%u5355%u5931%u8D25%uFF0C%u5DF2%u8FBE%u6700%u5927%u91CD%u8BD5%u6B21%u6570%20%28%24%7BmaxRetry%20+%201%7D%29%60%29%3B%0A%20%20%20%20%20%20throw%20e%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0Aasync%20function%20manualCreateOrder%28%29%20%7B%0A%20%20const%20gid%20%3D%20manualGoodsIdEl.value.trim%28%29%3B%0A%20%20if%20%28%21gid%29%20%7B%0A%20%20%20%20log%28%22%u8BF7%u8F93%u5165%u8981%u4E0B%u5355%u7684%20goodsId%22%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20try%20%7B%0A%20%20%20%20const%20res%20%3D%20await%20createOrder%28gid%29%3B%0A%20%20%20%20if%20%28res.success%29%20%7B%0A%20%20%20%20%20%20const%20orderId%20%3D%20res.result.id%3B%0A%20%20%20%20%20%20const%20orderNumber%20%3D%20res.result.orderNumber%3B%0A%20%20%20%20%20%20const%20paymentUrl%20%3D%20getPaymentUrl%28orderId%29%3B%0A%20%20%20%20%20%20const%20paymentLink%20%3D%20%60%3Ca%20href%3D%22%24%7BpaymentUrl%7D%22%20target%3D%22_blank%22%3E%u70B9%u51FB%u53BB%u4ED8%u6B3E%3C/a%3E%60%3B%0A%20%20%20%20%20%20log%28%60%u2714%20%u624B%u52A8%u4E0B%u5355%u6210%u529F%20%u8BA2%u5355%u53F7%3D%24%7BorderNumber%7D%20%7C%20%24%7BpaymentLink%7D%60%29%3B%0A%20%20%20%20%20%20showStatus%28%60%u624B%u52A8%u4E0B%u5355%u6210%u529F%20%u8BA2%u5355%u53F7%3D%24%7BorderNumber%7D%60%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20await%20pushBark%28%22%u624B%u52A8%u4E0B%u5355%u6210%u529F%22%2C%20%60%u8BA2%u5355%u53F7%3A%24%7BorderNumber%7D%20%7C%20%u70B9%u51FB%u53BB%u4ED8%u6B3E%60%2C%20paymentUrl%29%3B%0A%20%20%20%20%7D%20else%20if%20%28res.scheduledTask%29%20%7B%0A%20%20%20%20%20%20log%28%60%u23F0%20%u68C0%u6D4B%u5230%u516C%u793A%u671F%uFF0C%u5DF2%u521B%u5EFA%u5B9A%u65F6%u4EFB%u52A1%60%29%3B%0A%20%20%20%20%20%20showStatus%28%22%u5DF2%u521B%u5EFA%u5B9A%u65F6%u4EFB%u52A1%uFF0C%u5C06%u81EA%u52A8%u4E0B%u5355%22%2C%20%27warning%27%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20log%28%22%u2718%20%u624B%u52A8%u4E0B%u5355%u5931%u8D25%3A%5Cn%22%20+%20JSON.stringify%28res%2C%20null%2C%202%29%29%3B%0A%20%20%20%20%20%20showStatus%28%22%u624B%u52A8%u4E0B%u5355%u5931%u8D25%22%2C%20%27error%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%22%u624B%u52A8%u4E0B%u5355%u5F02%u5E38%3A%20%22%20+%20e.message%29%3B%0A%20%20%20%20showStatus%28%22%u624B%u52A8%u4E0B%u5355%u5F02%u5E38%3A%20%22%20+%20e.message%2C%20%27error%27%29%3B%0A%20%20%7D%0A%7D%0A//%20%u547D%u4E2D%u5546%u54C1%u5217%u8868%u4E2D%u7684%u201C%u4E00%u952E%u4E0B%u5355%u201D%0Afunction%20oneClickOrder%28goodsId%29%20%7B%0A%20%20manualGoodsIdEl.value%20%3D%20goodsId%3B%0A%20%20manualCreateOrder%28%29%3B%0A%7D%0Afunction%20getPaymentUrl%28orderId%29%20%7B%0A%20%20return%20%60http%3A//dms.52108.com/%23/pages/trade/detail%3Fid%3D%24%7BorderId%7D%60%3B%0A%7D%0Aasync%20function%20pushBark%28title%2C%20body%2C%20url%29%20%7B%0A%20%20const%20bark%20%3D%20barkEl.value.trim%28%29%3B%0A%20%20if%20%28%21bark%29%20return%3B%0A%20%20const%20soundParam%20%3D%20%22sound%3Dupdate%22%3B%0A%20%20const%20api%20%3D%20barkJumpEl.checked%20%26%26%20url%0A%20%20%20%20%3F%20%60%24%7Bbark%7D/%24%7BencodeURIComponent%28title%29%7D/%24%7BencodeURIComponent%28body%29%7D%3Furl%3D%24%7BencodeURIComponent%28url%29%7D%26%24%7BsoundParam%7D%60%0A%20%20%20%20%3A%20%60%24%7Bbark%7D/%24%7BencodeURIComponent%28title%29%7D/%24%7BencodeURIComponent%28body%29%7D%3F%24%7BsoundParam%7D%60%3B%0A%20%20try%20%7B%0A%20%20%20%20await%20fetch%28api%29%3B%0A%20%20%20%20log%28%22%u2714%20Bark%20%u63A8%u9001%u6210%u529F%22%29%3B%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%22%u2718%20Bark%20%u63A8%u9001%u5931%u8D25%3A%20%22%20+%20e.message%29%3B%0A%20%20%7D%0A%7D%0Aasync%20function%20check%28%29%20%7B%0A%20%20if%20%28%21running%29%20return%3B%0A%20%20try%20%7B%0A%20%20%20%20const%20total%20%3D%20await%20fetchTotal%28%29%3B%0A%20%20%20%20const%20type%20%3D%20typeEl.value%3B%0A%20%20%20%20let%20filterInfo%20%3D%20%60%u4EF7%u683C%24%7BpriceStartEl.value%7D-%24%7BpriceEndEl.value%7D%60%3B%0A%20%20%20%20if%20%28type%20%3D%3D%3D%20%2299%22%29%20%7B%0A%20%20%20%20%20%20const%20jobs%20%3D%20getCheckedJobs%28%29%3B%0A%20%20%20%20%20%20if%20%28jobs%29%20filterInfo%20+%3D%20%60%20%7C%20%u804C%u4E1A%3D%24%7Bjobs%7D%60%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28type%20%3D%3D%3D%20%221%22%29%20%7B%0A%20%20%20%20%20%20const%20equips%20%3D%20getCheckedEquipments%28%29%3B%0A%20%20%20%20%20%20if%20%28equips%29%20filterInfo%20+%3D%20%60%20%7C%20%u88C5%u5907%3D%24%7Bequips%7D%60%3B%0A%20%20%20%20%7D%0A%20%20%20%20log%28%60%u5F53%u524D%u5E02%u573A%u57FA%u7840%u7B5B%u9009%u603B%u6570%uFF1A%24%7Btotal%7D%20%28%24%7BfilterInfo%7D%29%60%29%3B%0A%20%20%20%20if%20%28total%20%3D%3D%3D%200%29%20return%3B%0A%20%20%20%20const%20items%20%3D%20await%20fetchAllItems%28total%29%3B%0A%20%20%20%20const%20needDays%20%3D%20Number%28cardDaysEl.value%29%3B%0A%20%20%20%20const%20needRecharge%20%3D%20Number%28rechargeEl.value%29%3B%0A%20%20%20%20const%20needFlows%20%3D%20parseFlows%28flowEl.value.trim%28%29%29%3B%0A%20%20%20%20const%20debug%20%3D%20debugEl.checked%3B%0A%20%20%20%20let%20matchCount%20%3D%200%3B%0A%20%20%20%20const%20batchSize%20%3D%20Math.max%281%2C%20Number%28batchSizeEl.value%29%20%7C%7C%201%29%3B%0A%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20items.length%3B%20i%20+%3D%20batchSize%29%20%7B%0A%20%20%20%20%20%20if%20%28%21running%29%20return%3B%0A%20%20%20%20%20%20const%20batch%20%3D%20items.slice%28i%2C%20i%20+%20batchSize%29%3B%0A%20%20%20%20%20%20const%20results%20%3D%20await%20Promise.all%28batch.map%28async%20%28item%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20extra%20%3D%20await%20getRoleExtra%28item.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20server%20%3D%20item.gameServer%3F.subName%20%7C%7C%20%22%u672A%u77E5%u533A%u670D%22%3B%0A%20%20%20%20%20%20%20%20%20%20const%20okDays%20%3D%20extra.days%20%3E%3D%20needDays%3B%0A%20%20%20%20%20%20%20%20%20%20const%20okRecharge%20%3D%20extra.recharge%20%3E%3D%20needRecharge%3B%0A%20%20%20%20%20%20%20%20%20%20const%20okFlow%20%3D%20matchFlow%28extra.flow%2C%20needFlows%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28debug%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u68C0%u6D4BID%3D%24%7Bitem.id%7D%20%7C%20%u533A%u670D%3D%24%7Bserver%7D%20%7C%20%u4EF7%u683C%3D%24%7Bitem.price%7D%20%7C%20%u5145%u503C%3D%24%7Bextra.recharge%7D%24%7BokRecharge%20%3F%20%22%u2714%22%20%3A%20%22%u2718%22%7D%20%7C%20%u6708%u5361%3D%24%7Bextra.days%7D%24%7BokDays%20%3F%20%22%u2714%22%20%3A%20%22%u2718%22%7D%20%7C%20%u6D41%u6D3E%3D%24%7Bextra.flow%7D%24%7BokFlow%20%3F%20%22%u2714%22%20%3A%20%22%u2718%22%7D%20%7C%20%u8017%u65F6%3D%24%7Bextra.cost%7Dms%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21okDays%20%7C%7C%20%21okRecharge%20%7C%7C%20%21okFlow%29%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28seen.has%28item.id%29%29%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%20item%2C%20extra%2C%20server%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20log%28%60%u68C0%u6D4B%u5546%u54C1%20ID%3D%24%7Bitem.id%7D%20%u65F6%u51FA%u9519%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%29%3B%0A%20%20%20%20%20%20for%20%28const%20r%20of%20results%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21r%29%20continue%3B%0A%20%20%20%20%20%20%20%20seen.add%28r.item.id%29%3B%0A%20%20%20%20%20%20%20%20matchCount++%3B%0A%20%20%20%20%20%20%20%20matchedGoodsList.unshift%28%7B%0A%20%20%20%20%20%20%20%20%20%20id%3A%20r.item.id%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20r.item.name%20%7C%7C%20%60%u5546%u54C1%24%7Br.item.id%7D%60%2C%0A%20%20%20%20%20%20%20%20%20%20server%3A%20r.server%2C%0A%20%20%20%20%20%20%20%20%20%20price%3A%20r.item.price%2C%0A%20%20%20%20%20%20%20%20%20%20recharge%3A%20r.extra.recharge%2C%0A%20%20%20%20%20%20%20%20%20%20days%3A%20r.extra.days%2C%0A%20%20%20%20%20%20%20%20%20%20flow%3A%20r.extra.flow%2C%0A%20%20%20%20%20%20%20%20%20%20hitTime%3A%20new%20Date%28%29.toLocaleString%28%29%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20renderMatchedGoodsList%28%29%3B%0A%20%20%20%20%20%20%20%20const%20url%20%3D%20%60http%3A//dms.52108.com/%23/pages/shop/detail%3Fid%3D%24%7Br.item.id%7D%60%3B%0A%20%20%20%20%20%20%20%20const%20msg%20%3D%20%60%3Ca%20href%3D%22%24%7Burl%7D%22%20target%3D%22_blank%22%3E%u547D%u4E2DID%3D%24%7Br.item.id%7D%20%u533A%u670D%3D%24%7Br.server%7D%20%u4EF7%u683C%3D%24%7Br.item.price%7D%20%u5145%u503C%3D%24%7Br.extra.recharge%7D%20%u6708%u5361%3D%24%7Br.extra.days%7D%20%u6D41%u6D3E%3D%24%7Br.extra.flow%7D%3C/a%3E%60%3B%0A%20%20%20%20%20%20%20%20log%28msg%29%3B%0A%20%20%20%20%20%20%20%20if%20%28autoOrderEl.checked%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20orderRes%20%3D%20await%20createOrder%28r.item.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28orderRes.success%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20orderId%20%3D%20orderRes.result.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20orderNumber%20%3D%20orderRes.result.orderNumber%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20paymentUrl%20%3D%20getPaymentUrl%28orderId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20paymentLink%20%3D%20%60%3Ca%20href%3D%22%24%7BpaymentUrl%7D%22%20target%3D%22_blank%22%3E%u70B9%u51FB%u53BB%u4ED8%u6B3E%3C/a%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u2714%20%u5DF2%u81EA%u52A8%u4E0B%u5355%20%u8BA2%u5355%u53F7%3D%24%7BorderNumber%7D%20%7C%20%24%7BpaymentLink%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20showStatus%28%60%u81EA%u52A8%u4E0B%u5355%u6210%u529F%20ID%3D%24%7Br.item.id%7D%60%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20pushBark%28%22%u81EA%u52A8%u4E0B%u5355%u6210%u529F%22%2C%20%60ID%3D%24%7Br.item.id%7D%20%u8BA2%u5355%u53F7%3A%24%7BorderNumber%7D%20%7C%20%u70B9%u51FB%u53BB%u4ED8%u6B3E%60%2C%20paymentUrl%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28orderRes.scheduledTask%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u23F0%20%u68C0%u6D4B%u5230%u516C%u793A%u671F%uFF0C%u5DF2%u521B%u5EFA%u5B9A%u65F6%u4EFB%u52A1%20ID%3D%24%7Br.item.id%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20showStatus%28%60%u5DF2%u521B%u5EFA%u5B9A%u65F6%u4EFB%u52A1%20ID%3D%24%7Br.item.id%7D%60%2C%20%27warning%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u2718%20%u81EA%u52A8%u4E0B%u5355%u5931%u8D25%3A%20%24%7BJSON.stringify%28orderRes%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log%28%22%u81EA%u52A8%u4E0B%u5355%u5F02%u5E38%3A%20%22%20+%20e.message%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20await%20pushBark%28%22%u53D1%u73B0%u7B26%u5408%u6761%u4EF6%u5546%u54C1%22%2C%20%60ID%3D%24%7Br.item.id%7D%20%u533A%u670D%3D%24%7Br.server%7D%20%u4EF7%u683C%3D%24%7Br.item.price%7D%20%u5145%u503C%3D%24%7Br.extra.recharge%7D%20%u6708%u5361%3D%24%7Br.extra.days%7D%20%u6D41%u6D3E%3D%24%7Br.extra.flow%7D%60%2C%20url%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20log%28%60%u672C%u8F6E%u547D%u4E2D%20%24%7BmatchCount%7D%20%u4E2A%20%7C%20%u7D2F%u8BA1%u63A8%u9001%20%24%7Bseen.size%7D%20%u4E2A%60%29%3B%0A%20%20%20%20showStatus%28%60%u8FD0%u884C%u4E2D%20-%20%u672C%u8F6E%u547D%u4E2D%20%24%7BmatchCount%7D%20%u4E2A%60%2C%20%27success%27%29%3B%0A%20%20%20%20const%20intervalSec%20%3D%20Number%28intervalEl.value%29%3B%0A%20%20%20%20if%20%28intervalSec%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20log%28%22%u8F6E%u8BE2%u95F4%u9694%3D0%uFF0C%u7ACB%u5373%u5F00%u59CB%u4E0B%u4E00%u8F6E...%22%29%3B%0A%20%20%20%20%20%20setTimeout%28check%2C%200%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20const%20nextTime%20%3D%20new%20Date%28Date.now%28%29%20+%20intervalSec%20*%201000%29%3B%0A%20%20%20%20%20%20log%28%60%u4E0B%u6B21%u5F00%u59CB%u65F6%u95F4%uFF1A%24%7BnextTime.toLocaleString%28%29%7D%60%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20log%28%22%u9519%u8BEF%3A%20%22%20+%20e.message%29%3B%0A%20%20%20%20showStatus%28%22%u68C0%u6D4B%u51FA%u9519%3A%20%22%20+%20e.message%2C%20%27error%27%29%3B%0A%20%20%20%20if%20%28running%29%20%7B%0A%20%20%20%20%20%20log%28%2210%20%u79D2%u540E%u7EE7%u7EED%u76D1%u542C...%22%29%3B%0A%20%20%20%20%20%20await%20delay%2810000%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0Afunction%20startMonitor%28%29%20%7B%0A%20%20stopMonitor%28%29%3B%0A%20%20running%20%3D%20true%3B%0A%20%20const%20interval%20%3D%20Number%28intervalEl.value%29%20*%201000%3B%0A%20%20log%28%22%u5F00%u59CB%u76D1%u542C...%22%29%3B%0A%20%20showStatus%28%22%u76D1%u542C%u5DF2%u542F%u52A8%22%2C%20%27success%27%29%3B%0A%20%20loadToken%28%29%3B%0A%20%20startTaskChecker%28%29%3B%0A%20%20check%28%29%3B%0A%20%20timer%20%3D%20setInterval%28check%2C%20interval%29%3B%0A%7D%0Afunction%20stopMonitor%28%29%20%7B%0A%20%20running%20%3D%20false%3B%0A%20%20if%20%28timer%29%20clearInterval%28timer%29%3B%0A%20%20timer%20%3D%20null%3B%0A%20%20log%28%22%u5DF2%u505C%u6B62%u76D1%u542C%22%29%3B%0A%20%20showStatus%28%22%u76D1%u542C%u5DF2%u505C%u6B62%22%2C%20%27warning%27%29%3B%0A%7D%0Afunction%20saveSettings%28%29%20%7B%0A%20%20const%20settings%20%3D%20%7B%0A%20%20%20%20priceStart%3A%20priceStartEl.value%2C%0A%20%20%20%20priceEnd%3A%20priceEndEl.value%2C%0A%20%20%20%20cardDays%3A%20cardDaysEl.value%2C%0A%20%20%20%20recharge%3A%20rechargeEl.value%2C%0A%20%20%20%20flow%3A%20flowEl.value%2C%0A%20%20%20%20bark%3A%20barkEl.value%2C%0A%20%20%20%20barkJump%3A%20barkJumpEl.checked%2C%0A%20%20%20%20interval%3A%20intervalEl.value%2C%0A%20%20%20%20debug%3A%20debugEl.checked%2C%0A%20%20%20%20username%3A%20usernameEl.value%2C%0A%20%20%20%20password%3A%20passwordEl.value%2C%0A%20%20%20%20autoOrder%3A%20autoOrderEl.checked%2C%0A%20%20%20%20loginRetry%3A%20loginRetryEl.value%2C%0A%20%20%20%20orderRetry%3A%20orderRetryEl.value%2C%0A%20%20%20%20batchSize%3A%20batchSizeEl.value%2C%0A%20%20%20%20selectedJobs%3A%20getCheckedJobs%28%29%2C%0A%20%20%20%20selectedEquips%3A%20getCheckedEquipments%28%29%2C%0A%20%20%20%20type%3A%20typeEl.value%0A%20%20%7D%3B%0A%20%20localStorage.setItem%28%22barkMonitorSettings%22%2C%20JSON.stringify%28settings%29%29%3B%0A%20%20log%28%22%u8BBE%u7F6E%u5DF2%u4FDD%u5B58%22%29%3B%0A%20%20showStatus%28%22%u8BBE%u7F6E%u5DF2%u4FDD%u5B58%22%2C%20%27success%27%29%3B%0A%7D%0Afunction%20loadSettings%28%29%20%7B%0A%20%20const%20s%20%3D%20localStorage.getItem%28%22barkMonitorSettings%22%29%3B%0A%20%20if%20%28%21s%29%20return%3B%0A%20%20const%20settings%20%3D%20JSON.parse%28s%29%3B%0A%20%20priceStartEl.value%20%3D%20settings.priceStart%3B%0A%20%20priceEndEl.value%20%3D%20settings.priceEnd%3B%0A%20%20cardDaysEl.value%20%3D%20settings.cardDays%3B%0A%20%20rechargeEl.value%20%3D%20settings.recharge%20%7C%7C%200%3B%0A%20%20flowEl.value%20%3D%20settings.flow%20%7C%7C%20%22%22%3B%0A%20%20barkEl.value%20%3D%20settings.bark%3B%0A%20%20barkJumpEl.checked%20%3D%20settings.barkJump%3B%0A%20%20intervalEl.value%20%3D%20settings.interval%3B%0A%20%20debugEl.checked%20%3D%20settings.debug%20%7C%7C%20false%3B%0A%20%20usernameEl.value%20%3D%20settings.username%20%7C%7C%20%22%22%3B%0A%20%20passwordEl.value%20%3D%20settings.password%20%7C%7C%20%22%22%3B%0A%20%20autoOrderEl.checked%20%3D%20settings.autoOrder%20%7C%7C%20false%3B%0A%20%20loginRetryEl.value%20%3D%20settings.loginRetry%20%7C%7C%203%3B%0A%20%20orderRetryEl.value%20%3D%20settings.orderRetry%20%7C%7C%203%3B%0A%20%20batchSizeEl.value%20%3D%20settings.batchSize%20%7C%7C%205%3B%0A%20%20if%20%28settings.type%29%20%7B%0A%20%20%20%20typeEl.value%20%3D%20settings.type%3B%0A%20%20%7D%0A%20%20if%20%28settings.selectedJobs%29%20%7B%0A%20%20%20%20const%20jobs%20%3D%20settings.selectedJobs.split%28%27%2C%27%29%3B%0A%20%20%20%20document.querySelectorAll%28%27.job-checkbox%27%29.forEach%28cb%20%3D%3E%20%7B%0A%20%20%20%20%20%20cb.checked%20%3D%20jobs.includes%28cb.value%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%20%20if%20%28settings.selectedEquips%29%20%7B%0A%20%20%20%20const%20equips%20%3D%20settings.selectedEquips.split%28%27%2C%27%29%3B%0A%20%20%20%20document.querySelectorAll%28%27.equip-checkbox%27%29.forEach%28cb%20%3D%3E%20%7B%0A%20%20%20%20%20%20cb.checked%20%3D%20equips.includes%28cb.value%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%20%20log%28%22%u5DF2%u52A0%u8F7D%u4FDD%u5B58%u7684%u8BBE%u7F6E%22%29%3B%0A%7D%0Aconst%20typeEl%20%3D%20document.getElementById%28%22type%22%29%3B%0Aconst%20priceStartEl%20%3D%20document.getElementById%28%22priceStart%22%29%3B%0Aconst%20priceEndEl%20%3D%20document.getElementById%28%22priceEnd%22%29%3B%0Aconst%20cardDaysEl%20%3D%20document.getElementById%28%22cardDays%22%29%3B%0Aconst%20rechargeEl%20%3D%20document.getElementById%28%22recharge%22%29%3B%0Aconst%20flowEl%20%3D%20document.getElementById%28%22flow%22%29%3B%0Aconst%20barkEl%20%3D%20document.getElementById%28%22bark%22%29%3B%0Aconst%20barkJumpEl%20%3D%20document.getElementById%28%22barkJump%22%29%3B%0Aconst%20intervalEl%20%3D%20document.getElementById%28%22interval%22%29%3B%0Aconst%20autoOrderEl%20%3D%20document.getElementById%28%22autoOrder%22%29%3B%0Aconst%20usernameEl%20%3D%20document.getElementById%28%22username%22%29%3B%0Aconst%20passwordEl%20%3D%20document.getElementById%28%22password%22%29%3B%0Aconst%20manualGoodsIdEl%20%3D%20document.getElementById%28%22manualGoodsId%22%29%3B%0Aconst%20debugEl%20%3D%20document.getElementById%28%22debug%22%29%3B%0Aconst%20batchSizeEl%20%3D%20document.getElementById%28%22batchSize%22%29%3B%0Aconst%20loginRetryEl%20%3D%20document.getElementById%28%22loginRetry%22%29%3B%0Aconst%20orderRetryEl%20%3D%20document.getElementById%28%22orderRetry%22%29%3B%0AloadSettings%28%29%3B%0AonTypeChange%28%29%3B%0Awindow.addEventListener%28%27load%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20loadToken%28%29%3B%0A%20%20loadScheduledTasks%28%29%3B%0A%20%20startTaskChecker%28%29%3B%0A%7D%29%3B%0Awindow.addEventListener%28%27beforeunload%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20if%20%28running%29%20%7B%0A%20%20%20%20saveSettings%28%29%3B%0A%20%20%7D%0A%20%20stopTaskChecker%28%29%3B%0A%7D%29%3B%0A%20%20%3C/script%3E%0A%0A%20%20%3C%21--%20%20%28%u4FEE%u6B63%u516C%u5F0F%u4E09%u8BA1%u7B97%29%20--%3E%0A%20%20%3Cscript%3E%0A%20%20%28function%28%29%20%7B%0A%20%20%20%20const%20API_LIST%20%3D%20%27https%3A//api.52108.com/api/services/cbg/Goods/GetIndexGoodsPaged%27%3B%0A%20%20%20%20const%20API_ROLE%20%3D%20%27https%3A//api.52108.com/api/services/app/GameRoleInfo/GetGameRoleInfo%27%3B%0A%20%20%20%20const%20SETTINGS_KEY%20%3D%20%27val_valueFilterSettings%27%3B%0A%20%20%20%20const%20WORTH_KEY%20%3D%20%27val_worthListData%27%3B%0A%20%20%20%20let%20running%20%3D%20false%3B%0A%20%20%20%20let%20worthList%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20timer%20%3D%20null%3B%0A%20%20%20%20%0A%20%20%20%20function%20log%28msg%29%20%7B%0A%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27val_log%27%29%3B%0A%20%20%20%20%20%20const%20ts%20%3D%20new%20Date%28%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20el.innerHTML%20+%3D%20%60%5B%24%7Bts%7D%5D%20%24%7Bmsg%7D%3Cbr%3E%60%3B%0A%20%20%20%20%20%20el.scrollTop%20%3D%20el.scrollHeight%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20showStatus%28msg%2C%20type%20%3D%20%27success%27%29%20%7B%0A%20%20%20%20%20%20const%20bar%20%3D%20document.getElementById%28%27val_statusBar%27%29%3B%0A%20%20%20%20%20%20bar.textContent%20%3D%20msg%3B%0A%20%20%20%20%20%20bar.className%20%3D%20%60status-bar%20%24%7Btype%7D%60%3B%0A%20%20%20%20%20%20bar.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20getJobList%28%29%20%7B%0A%20%20%20%20%20%20return%20Array.from%28document.querySelectorAll%28%27.val-job-cb%3Achecked%27%29%29.map%28cb%20%3D%3E%20cb.value%29.join%28%27%2C%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20getFormulaType%28%29%20%7B%0A%20%20%20%20%20%20if%20%28document.getElementById%28%27val_formula3%27%29.checked%29%20return%20%273%27%3B%0A%20%20%20%20%20%20if%20%28document.getElementById%28%27val_formula2%27%29.checked%29%20return%20%272%27%3B%0A%20%20%20%20%20%20return%20%271%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20getThreshold%28%29%20%7B%0A%20%20%20%20%20%20const%20v%20%3D%20document.getElementById%28%27val_threshold%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20if%20%28v%20%3D%3D%3D%20%27%27%29%20return%200%3B%0A%20%20%20%20%20%20const%20n%20%3D%20Number%28v%29%3B%0A%20%20%20%20%20%20return%20Number.isFinite%28n%29%20%3F%20n%20%3A%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20saveSettings%28%29%20%7B%0A%20%20%20%20%20%20const%20settings%20%3D%20%7B%0A%20%20%20%20%20%20%20%20selectedJobs%3A%20getJobList%28%29%2C%0A%20%20%20%20%20%20%20%20onlyPresale%3A%20document.getElementById%28%27val_onlyPresale%27%29.checked%2C%0A%20%20%20%20%20%20%20%20debug%3A%20document.getElementById%28%27val_debug%27%29.checked%2C%0A%20%20%20%20%20%20%20%20flow%3A%20document.getElementById%28%27val_flow%27%29.value%2C%0A%20%20%20%20%20%20%20%20recharge%3A%20document.getElementById%28%27val_recharge%27%29.value%2C%0A%20%20%20%20%20%20%20%20cardDays%3A%20document.getElementById%28%27val_cardDays%27%29.value%2C%0A%20%20%20%20%20%20%20%20batchSize%3A%20document.getElementById%28%27val_batchSize%27%29.value%2C%0A%20%20%20%20%20%20%20%20formulaType%3A%20getFormulaType%28%29%2C%0A%20%20%20%20%20%20%20%20threshold%3A%20document.getElementById%28%27val_threshold%27%29.value.trim%28%29%2C%0A%20%20%20%20%20%20%20%20interval%3A%20document.getElementById%28%27val_interval%27%29.value%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20localStorage.setItem%28SETTINGS_KEY%2C%20JSON.stringify%28settings%29%29%3B%0A%20%20%20%20%20%20%20%20log%28%27%u8BBE%u7F6E%u5DF2%u4FDD%u5B58%27%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%27%u8BBE%u7F6E%u5DF2%u4FDD%u5B58%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u4FDD%u5B58%u8BBE%u7F6E%u5931%u8D25%3A%20%27%20+%20e.message%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%27%u4FDD%u5B58%u8BBE%u7F6E%u5931%u8D25%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20loadSettings%28%29%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20s%20%3D%20localStorage.getItem%28SETTINGS_KEY%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21s%29%20return%3B%0A%20%20%20%20%20%20%20%20const%20settings%20%3D%20JSON.parse%28s%29%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27val_onlyPresale%27%29.checked%20%3D%20%21%21settings.onlyPresale%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27val_debug%27%29.checked%20%3D%20%21%21settings.debug%3B%0A%20%20%20%20%20%20%20%20if%20%28settings.flow%20%21%3D%20null%29%20document.getElementById%28%27val_flow%27%29.value%20%3D%20settings.flow%3B%0A%20%20%20%20%20%20%20%20if%20%28settings.recharge%20%21%3D%20null%29%20document.getElementById%28%27val_recharge%27%29.value%20%3D%20settings.recharge%3B%0A%20%20%20%20%20%20%20%20if%20%28settings.cardDays%20%21%3D%20null%29%20document.getElementById%28%27val_cardDays%27%29.value%20%3D%20settings.cardDays%3B%0A%20%20%20%20%20%20%20%20if%20%28settings.batchSize%20%21%3D%20null%29%20document.getElementById%28%27val_batchSize%27%29.value%20%3D%20settings.batchSize%3B%0A%20%20%20%20%20%20%20%20if%20%28settings.threshold%20%21%3D%3D%20undefined%20%26%26%20settings.threshold%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27val_threshold%27%29.value%20%3D%20settings.threshold%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28settings.interval%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27val_interval%27%29.value%20%3D%20settings.interval%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28settings.formulaType%20%3D%3D%3D%20%273%27%29%20document.getElementById%28%27val_formula3%27%29.checked%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20else%20if%20%28settings.formulaType%20%3D%3D%3D%20%272%27%29%20document.getElementById%28%27val_formula2%27%29.checked%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20else%20document.getElementById%28%27val_formula1%27%29.checked%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%20%28settings.selectedJobs%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20jobs%20%3D%20settings.selectedJobs.split%28%27%2C%27%29.filter%28Boolean%29%3B%0A%20%20%20%20%20%20%20%20%20%20document.querySelectorAll%28%27.val-job-cb%27%29.forEach%28cb%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cb.checked%20%3D%20jobs.includes%28cb.value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20log%28%27%u5DF2%u52A0%u8F7D%u4FDD%u5B58%u7684%u8BBE%u7F6E%27%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u52A0%u8F7D%u8BBE%u7F6E%u5931%u8D25%3A%20%27%20+%20%28e.message%20%7C%7C%20e%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20buildListUrl%28skip%2C%20maxCount%29%20%7B%0A%20%20%20%20%20%20const%20t%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20const%20jobList%20%3D%20getJobList%28%29%3B%0A%20%20%20%20%20%20//%20%u4EF7%u683C%u533A%u95F4%u6539%u4E3A%u8DDF%u968F%u4E3B%u9875%u7684%u201C%u6700%u4F4E%u4EF7%u683C%20/%20%u6700%u9AD8%u4EF7%u683C%u201D%u8BBE%u7F6E%0A%20%20%20%20%20%20const%20priceStartInput%20%3D%20document.getElementById%28%27priceStart%27%29%3B%0A%20%20%20%20%20%20const%20priceEndInput%20%3D%20document.getElementById%28%27priceEnd%27%29%3B%0A%20%20%20%20%20%20const%20priceStart%20%3D%20priceStartInput%20%26%26%20priceStartInput.value%20%21%3D%3D%20%27%27%20%3F%20Number%28priceStartInput.value%29%20%3A%201%3B%0A%20%20%20%20%20%20const%20priceEnd%20%3D%20priceEndInput%20%26%26%20priceEndInput.value%20%21%3D%3D%20%27%27%20%3F%20Number%28priceEndInput.value%29%20%3A%20999999%3B%0A%0A%20%20%20%20%20%20let%20url%20%3D%20%60%24%7BAPI_LIST%7D%3FGameServerId%3D%26TypeList%3D%26PriceStart%3D%24%7BpriceStart%7D%26PriceEnd%3D%24%7BpriceEnd%7D%26EquipmentTypeList%3D%26Id%3D%26Name%3D%26Sorting%3D%26SkipCount%3D%24%7Bskip%7D%26MaxResultCount%3D%24%7BmaxCount%7D%26OnlyPlayed%3Dfalse%26time%3D%24%7Bt%7D%26type%3D99%60%3B%0A%20%20%20%20%20%20if%20%28jobList%29%20url%20+%3D%20%27%26RoleJobList%3D%27%20+%20encodeURIComponent%28jobList%29%3B%0A%20%20%20%20%20%20return%20url%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20async%20function%20fetchTotalCount%28%29%20%7B%0A%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28buildListUrl%280%2C%201%29%29%3B%0A%20%20%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20%20%20return%20data%3F.result%3F.totalCount%20%3F%3F%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20async%20function%20fetchAllItems%28totalCount%29%20%7B%0A%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28buildListUrl%280%2C%20totalCount%29%29%3B%0A%20%20%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20%20%20return%20data%3F.result%3F.items%20%3F%3F%20%5B%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20parseRoleDetail%28html%29%20%7B%0A%20%20%20%20%20%20const%20numFromVal%20%3D%20%28key%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20m%20%3D%20html.match%28new%20RegExp%28%60%24%7Bkey%7D%uFF1A.*%3Fval%27%3E%28.*%3F%29%3C%60%29%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21m%20%7C%7C%20%21m%5B1%5D%29%20return%20null%3B%0A%20%20%20%20%20%20%20%20const%20s%20%3D%20m%5B1%5D.replace%28/%u5143%u5B9D%7C%2C/g%2C%20%27%27%29.trim%28%29%3B%0A%20%20%20%20%20%20%20%20const%20n%20%3D%20Number%28s%29%3B%0A%20%20%20%20%20%20%20%20return%20Number.isFinite%28n%29%20%3F%20n%20%3A%20null%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20const%20market%20%3D%20numFromVal%28%27%u5546%u884C%u5269%u4F59%u989D%u5EA6%27%29%3B%0A%20%20%20%20%20%20const%20escort%20%3D%20numFromVal%28%27%u62BC%u9556%u5269%u4F59%u8FD4%u5229%27%29%3B%0A%20%20%20%20%20%20const%20cardMatch%20%3D%20html.match%28/%u6708%u5361%u5230%u671F%u65F6%u95F4%uFF1A.*%3Fval%27%3E%28.*%3F%29%3C/%29%3B%0A%20%20%20%20%20%20const%20cardExpireText%20%3D%20cardMatch%20%3F%20cardMatch%5B1%5D.trim%28%29%20%3A%20%27%27%3B%0A%20%20%20%20%20%20const%20hasCard%20%3D%20%21%21cardExpireText%20%26%26%20cardExpireText%20%21%3D%3D%20%27%u65E0%u6708%u5361%27%3B%0A%20%20%20%20%20%20const%20flowMatch%20%3D%20html.match%28/%u6D41%u6D3E%uFF1A.*%3Fval%27%3E%28.*%3F%29%3C/%29%3B%0A%20%20%20%20%20%20const%20flow%20%3D%20flowMatch%20%3F%20flowMatch%5B1%5D.trim%28%29%20%3A%20%27%27%3B%0A%20%20%20%20%20%20const%20rechargeMatch%20%3D%20html.match%28/%u5145%u503C%uFF1A.*%3Fval%27%3E%28%5Cd+%29/%29%3B%0A%20%20%20%20%20%20const%20recharge%20%3D%20rechargeMatch%20%3F%20parseInt%28rechargeMatch%5B1%5D%2C%2010%29%20%3A%200%3B%0A%20%20%20%20%20%20let%20cardDays%20%3D%200%3B%0A%20%20%20%20%20%20if%20%28hasCard%29%20%7B%0A%20%20%20%20%20%20%20%20const%20expire%20%3D%20new%20Date%28cardExpireText%29.getTime%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28Number.isFinite%28expire%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20cardDays%20%3D%20Math.max%280%2C%20Math.floor%28%28expire%20-%20Date.now%28%29%29%20/%2086400000%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%7B%20market%2C%20escort%2C%20hasCard%2C%20flow%2C%20recharge%2C%20cardDays%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20parseFlows%28text%29%20%7B%0A%20%20%20%20%20%20if%20%28%21text%29%20return%20%5B%5D%3B%0A%20%20%20%20%20%20return%20text.split%28/%5B%5Cs%2C%uFF0C%u3001%5D+/%29.map%28s%20%3D%3E%20s.trim%28%29%29.filter%28Boolean%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20matchFlow%28target%2C%20flows%29%20%7B%0A%20%20%20%20%20%20if%20%28%21flows.length%29%20return%20true%3B%0A%20%20%20%20%20%20return%20flows.some%28f%20%3D%3E%20target.includes%28f%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20//%20%u4FEE%u6B63%u516C%u5F0F%u4E09%u8BA1%u7B97%u51FD%u6570%0A%20%20%20%20function%20calcValue%28market%2C%20escort%2C%20hasCard%29%20%7B%0A%20%20%20%20%20%20const%20formula%20%3D%20getFormulaType%28%29%3B%0A%20%20%20%20%20%20let%20base%20%3D%200%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28formula%20%3D%3D%3D%20%272%27%29%20%7B%0A%20%20%20%20%20%20%20%20//%20%u516C%u5F0F%u4E8C%uFF1A%u53EA%u770B%u5546%u884C%0A%20%20%20%20%20%20%20%20base%20%3D%20market%20%21%3D%20null%20%3F%20market%20/%20300%20%3A%200%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28formula%20%3D%3D%3D%20%273%27%29%20%7B%0A%20%20%20%20%20%20%20%20//%20%u516C%u5F0F%u4E09%uFF1A%u5546%u884C%u5168%u989D%20+%20%u62BC%u9556%u625366%u6298%0A%20%20%20%20%20%20%20%20const%20marketPart%20%3D%20market%20%21%3D%20null%20%3F%20market%20/%20300%20%3A%200%3B%0A%20%20%20%20%20%20%20%20const%20escortPart%20%3D%20escort%20%21%3D%20null%20%3F%20%28escort%20/%20300%29%20*%200.66%20%3A%200%3B%0A%20%20%20%20%20%20%20%20base%20%3D%20marketPart%20+%20escortPart%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20//%20%u516C%u5F0F%u4E00%uFF1A%u5546%u884C%20+%20%u62BC%u9556%u5168%u989D%0A%20%20%20%20%20%20%20%20base%20%3D%20%28%28market%20%21%3D%20null%20%3F%20market%20%3A%200%29%20+%20%28escort%20%21%3D%20null%20%3F%20escort%20%3A%200%29%29%20/%20300%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20return%20hasCard%20%3F%20base%20%3A%20%28base%20-%2030%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20escapeHtml%28str%29%20%7B%0A%20%20%20%20%20%20if%20%28str%20%3D%3D%20null%29%20return%20%27%27%3B%0A%20%20%20%20%20%20const%20div%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20div.textContent%20%3D%20str%3B%0A%20%20%20%20%20%20return%20div.innerHTML%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20function%20renderWorthList%28%29%20%7B%0A%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27val_worthList%27%29%3B%0A%20%20%20%20%20%20if%20%28%21el%29%20return%3B%0A%20%20%20%20%20%20if%20%28%21worthList.length%29%20%7B%0A%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20%27%3Cdiv%20class%3D%22no-matched%22%3E%u6682%u65E0%uFF0C%u6EE1%u8DB3%u4EF7%u503C%u516C%u5F0F%u7684%u5546%u54C1%u4F1A%u663E%u793A%u5728%u8FD9%u91CC%3C/div%3E%27%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20threshold%20%3D%20getThreshold%28%29%3B%0A%20%20%20%20%20%20const%20thresholdStr%20%3D%20threshold%20%3D%3D%3D%200%20%3F%20%27%27%20%3A%20%28threshold%20%3E%200%20%3F%20%60+%24%7Bthreshold%7D%60%20%3A%20String%28threshold%29%29%3B%0A%20%20%20%20%20%20const%20formulaType%20%3D%20getFormulaType%28%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20el.innerHTML%20%3D%20worthList.map%28w%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20url%20%3D%20%60http%3A//dms.52108.com/%23/pages/shop/detail%3Fid%3D%24%7Bw.id%7D%60%3B%0A%20%20%20%20%20%20%20%20const%20rawValue%20%3D%20calcValue%28w.market%2C%20w.escort%2C%20w.hasCard%29%3B%0A%20%20%20%20%20%20%20%20const%20value%20%3D%20rawValue%20+%20threshold%3B%0A%20%20%20%20%20%20%20%20const%20earn%20%3D%20Math.max%280%2C%20value%20-%20w.price%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20%u6DFB%u52A0%u8BE6%u7EC6%u8BA1%u7B97%u8FC7%u7A0B%0A%20%20%20%20%20%20%20%20let%20calcDetail%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20if%20%28formulaType%20%3D%3D%3D%20%273%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20marketPart%20%3D%20w.market%20%21%3D%20null%20%3F%20w.market%20/%20300%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20const%20escortPart%20%3D%20w.escort%20%21%3D%20null%20%3F%20%28w.escort%20/%20300%29%20*%200.66%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20calcDetail%20%3D%20%60%28%u5546%u884C%24%7Bw.market%7D/300%3D%24%7BmarketPart.toFixed%281%29%7D%20+%20%u62BC%u9556%24%7Bw.escort%7D/300%D70.66%3D%24%7BescortPart.toFixed%281%29%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21w.hasCard%29%20calcDetail%20+%3D%20%27%20-%2030%27%3B%0A%20%20%20%20%20%20%20%20%20%20calcDetail%20+%3D%20%60%20%3D%20%24%7BrawValue.toFixed%281%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28formulaType%20%3D%3D%3D%20%272%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20calcDetail%20%3D%20%60%u5546%u884C%24%7Bw.market%7D/300%3D%24%7BrawValue.toFixed%281%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20calcDetail%20%3D%20%60%28%u5546%u884C%24%7Bw.market%7D+%u62BC%u9556%24%7Bw.escort%7D%29/300%3D%24%7BrawValue.toFixed%281%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20valueDisplay%20%3D%20thresholdStr%0A%20%20%20%20%20%20%20%20%20%20%3F%20%60%u4EF7%u503C%u2248%24%7BrawValue.toFixed%281%29%7D%24%7BthresholdStr%7D%3D%24%7Bvalue.toFixed%281%29%7D%60%0A%20%20%20%20%20%20%20%20%20%20%3A%20%60%u4EF7%u503C%u2248%24%7Bvalue.toFixed%281%29%7D%60%3B%0A%0A%20%20%20%20%20%20%20%20const%20hasNotice%20%3D%20w.noticeEndTime%20%7C%7C%20w.noticeEndTimeStr%3B%0A%20%20%20%20%20%20%20%20const%20noticeText%20%3D%20hasNotice%0A%20%20%20%20%20%20%20%20%20%20%3F%20%60%24%7BescapeHtml%28w.noticeEndTimeStr%20%7C%7C%20%27%27%29%7D%uFF08%u672C%u5730%uFF1A%24%7Bw.noticeEndTime%20%3F%20new%20Date%28w.noticeEndTime%29.toLocaleString%28%29%20%3A%20%27%u672A%u77E5%27%7D%uFF09%60%0A%20%20%20%20%20%20%20%20%20%20%3A%20%27%u65E0%27%3B%0A%0A%20%20%20%20%20%20%20%20//%20%u662F%u5426%u9884%u552E%uFF1A%u6709%u516C%u793A%u7ED3%u675F%u65F6%u95F4%u4E14%u665A%u4E8E%u5F53%u524D%u65F6%u95F4%0A%20%20%20%20%20%20%20%20const%20isPresale%20%3D%20%21%21%28w.noticeEndTime%20%26%26%20w.noticeEndTime%20%3E%20Date.now%28%29%29%3B%0A%20%20%20%20%20%20%20%20const%20primaryBtnHtml%20%3D%20isPresale%0A%20%20%20%20%20%20%20%20%20%20%3F%20%60%3Cbutton%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22button%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22valAddToSchedule%28%24%7Bw.id%7D%29%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22padding%3A4px%208px%3B%20background%3A%2328a745%3B%20color%3A%23fff%3B%20border%3Anone%3B%20border-radius%3A4px%3B%20font-size%3A12px%3B%20cursor%3Apointer%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%u6DFB%u52A0%u5B9A%u65F6%u4EFB%u52A1%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%60%0A%20%20%20%20%20%20%20%20%20%20%3A%20%60%3Cbutton%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22button%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22oneClickOrder%28%24%7Bw.id%7D%29%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22padding%3A4px%208px%3B%20background%3A%23ff6a00%3B%20color%3A%23fff%3B%20border%3Anone%3B%20border-radius%3A4px%3B%20font-size%3A12px%3B%20cursor%3Apointer%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%u4E00%u952E%u4E0B%u5355%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20return%20%60%3Cdiv%20class%3D%22matched-item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22worth-earn%22%3E%u80FD%u8D5A%u7EA6%20%24%7Bearn.toFixed%281%29%7D%20%u5143%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22matched-name%22%3E%3Ca%20href%3D%22%24%7Burl%7D%22%20target%3D%22_blank%22%3E%24%7BescapeHtml%28w.name%29%7D%3C/a%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3EID%3A%20%3Ca%20href%3D%22%24%7Burl%7D%22%20target%3D%22_blank%22%3E%24%7Bw.id%7D%3C/a%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u533A%u670D%3A%20%24%7BescapeHtml%28w.server%29%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u552E%u4EF7%3A%20%24%7Bw.price%7D%20%u5143%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u5546%u884C%3A%20%24%7Bw.market%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u62BC%u9556%3A%20%24%7Bw.escort%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%24%7Bw.hasCard%20%3F%20%27%u6709%u6708%u5361%27%20%3A%20%27%u65E0%u6708%u5361%27%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u6D41%u6D3E%3A%20%24%7BescapeHtml%28w.flow%29%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u5145%u503C%3A%20%24%7Bw.recharge%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%u516C%u793A%u7ED3%u675F%3A%20%24%7BnoticeText%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%3E%24%7BvalueDisplay%7D%20%26gt%3B%20%u552E%u4EF7%20%24%7Bw.price%7D%20%u2713%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22matched-meta%22%20style%3D%22color%3A%20%23888%3B%20font-size%3A%2011px%3B%22%3E%24%7BcalcDetail%7D%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin-left%3Aauto%3B%20display%3Aflex%3B%20gap%3A6px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%7BprimaryBtnHtml%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22button%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22valRemoveWorthItem%28%24%7Bw.id%7D%29%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22padding%3A4px%208px%3B%20background%3A%23dc3545%3B%20color%3A%23fff%3B%20border%3Anone%3B%20border-radius%3A4px%3B%20font-size%3A12px%3B%20cursor%3Apointer%3B%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%u5220%u9664%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%60%3B%0A%20%20%20%20%20%20%7D%29.join%28%27%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20saveWorthList%28%29%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20localStorage.setItem%28WORTH_KEY%2C%20JSON.stringify%28worthList%29%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u4FDD%u5B58%u503C%u5F97%u5217%u8868%u5931%u8D25%3A%20%27%20+%20%28e.message%20%7C%7C%20e%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20loadWorthList%28%29%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20s%20%3D%20localStorage.getItem%28WORTH_KEY%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21s%29%20return%3B%0A%20%20%20%20%20%20%20%20const%20data%20%3D%20JSON.parse%28s%29%3B%0A%20%20%20%20%20%20%20%20if%20%28Array.isArray%28data%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20worthList%20%3D%20data%3B%0A%20%20%20%20%20%20%20%20%20%20renderWorthList%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20log%28%60%u5DF2%u4ECE%u672C%u5730%u52A0%u8F7D%20%24%7BworthList.length%7D%20%u6761%u503C%u5F97%u8BB0%u5F55%60%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u52A0%u8F7D%u503C%u5F97%u5217%u8868%u5931%u8D25%3A%20%27%20+%20%28e.message%20%7C%7C%20e%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20clearWorthList%28%29%20%7B%0A%20%20%20%20%20%20worthList%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20saveWorthList%28%29%3B%0A%20%20%20%20%20%20renderWorthList%28%29%3B%0A%20%20%20%20%20%20log%28%27%u5DF2%u6E05%u7A7A%u503C%u5F97%u5217%u8868%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20removeWorthItem%28id%29%20%7B%0A%20%20%20%20%20%20const%20before%20%3D%20worthList.length%3B%0A%20%20%20%20%20%20worthList%20%3D%20worthList.filter%28w%20%3D%3E%20String%28w.id%29%20%21%3D%3D%20String%28id%29%29%3B%0A%20%20%20%20%20%20if%20%28worthList.length%20%21%3D%3D%20before%29%20%7B%0A%20%20%20%20%20%20%20%20saveWorthList%28%29%3B%0A%20%20%20%20%20%20%20%20renderWorthList%28%29%3B%0A%20%20%20%20%20%20%20%20log%28%60%u5DF2%u4ECE%u503C%u5F97%u5217%u8868%u79FB%u9664%20ID%3D%24%7Bid%7D%60%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20async%20function%20getRoleDetail%28goodsId%29%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28%60%24%7BAPI_ROLE%7D%3FGoodsId%3D%24%7BgoodsId%7D%60%29%3B%0A%20%20%20%20%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28data%3F.result%3F.%5B0%5D%3F.data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20parseRoleDetail%28data.result%5B0%5D.data%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%60%u83B7%u53D6%u8BE6%u60C5%u5931%u8D25%20ID%3D%24%7BgoodsId%7D%3A%20%24%7Be.message%7D%60%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20async%20function%20run%28%29%20%7B%0A%20%20%20%20%20%20const%20batchSize%20%3D%20Math.max%281%2C%20parseInt%28document.getElementById%28%27val_batchSize%27%29.value%2C%2010%29%20%7C%7C%205%29%3B%0A%20%20%20%20%20%20const%20needFlow%20%3D%20parseFlows%28document.getElementById%28%27val_flow%27%29.value.trim%28%29%29%3B%0A%20%20%20%20%20%20const%20needRecharge%20%3D%20parseInt%28document.getElementById%28%27val_recharge%27%29.value%2C%2010%29%20%7C%7C%200%3B%0A%20%20%20%20%20%20const%20needCardDays%20%3D%20parseInt%28document.getElementById%28%27val_cardDays%27%29.value%2C%2010%29%20%7C%7C%200%3B%0A%20%20%20%20%20%20const%20onlyPresale%20%3D%20document.getElementById%28%27val_onlyPresale%27%29.checked%3B%0A%20%20%20%20%20%20const%20threshold%20%3D%20getThreshold%28%29%3B%0A%20%20%20%20%20%20const%20debug%20%3D%20document.getElementById%28%27val_debug%27%29.checked%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20log%28%27%u83B7%u53D6%20totalCount...%27%29%3B%0A%20%20%20%20%20%20let%20total%20%3D%200%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20total%20%3D%20await%20fetchTotalCount%28%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u83B7%u53D6%u603B%u6570%u5931%u8D25%3A%20%27%20+%20e.message%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%27%u83B7%u53D6%u603B%u6570%u5931%u8D25%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20log%28%27%u5F53%u524D%u7B5B%u9009%u603B%u6570%3A%20%27%20+%20total%29%3B%0A%20%20%20%20%20%20if%20%28total%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20showStatus%28%27%u65E0%u5546%u54C1%27%2C%20%27warning%27%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20log%28%27%u62C9%u53D6%u5168%u90E8%u5217%u8868%uFF08ID%20+%20%u552E%u4EF7%uFF09...%27%29%3B%0A%20%20%20%20%20%20let%20items%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20items%20%3D%20await%20fetchAllItems%28total%29%3B%0A%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u62C9%u53D6%u5217%u8868%u5931%u8D25%3A%20%27%20+%20e.message%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28onlyPresale%29%20%7B%0A%20%20%20%20%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20const%20before%20%3D%20items.length%3B%0A%20%20%20%20%20%20%20%20items%20%3D%20items.filter%28it%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20end%20%3D%20it.noticeEndTime%20%3F%20new%20Date%28it.noticeEndTime%29.getTime%28%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20const%20keep%20%3D%20end%20%3E%20now%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28debug%20%26%26%20%21keep%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u9884%u552E%u7B5B%u6389%20ID%3D%24%7Bit.id%20%7C%7C%20%27%u672A%u77E5%27%7D%3A%20noticeEndTime%3D%24%7Bit.noticeEndTime%20%7C%7C%20%27%u65E0%27%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20keep%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20log%28%60%u4EC5%u9884%u552E%u7B5B%u9009%u540E%u5269%u4F59%20%24%7Bitems.length%7D%20%u6761%uFF08%u539F%u59CB%20%24%7Bbefore%7D%20%u6761%uFF09%60%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20log%28%60%u5171%20%24%7Bitems.length%7D%20%u4E2A%u5546%u54C1%uFF0C%u5F00%u59CB%u5E76%u53D1%u8BE6%u60C5%u68C0%u6D4B%uFF08%24%7BbatchSize%7D%u4E2A/%u6279%uFF09...%60%29%3B%0A%20%20%20%20%20%20showStatus%28%60%u6B63%u5728%u68C0%u6D4B%20%24%7Bitems.length%7D%20%u4E2A%u5546%u54C1...%60%2C%20%27processing%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20let%20checkedCount%20%3D%200%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20items.length%3B%20i%20+%3D%20batchSize%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21running%29%20break%3B%0A%20%20%20%20%20%20%20%20const%20batch%20%3D%20items.slice%28i%2C%20i%20+%20batchSize%29%3B%0A%20%20%20%20%20%20%20%20const%20tasks%20%3D%20batch.map%28async%20%28item%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20t0%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20detail%20%3D%20await%20getRoleDetail%28item.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20cost%20%3D%20Date.now%28%29%20-%20t0%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21detail%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28debug%29%20log%28%60%u8FC7%u6EE4%20ID%3D%24%7Bitem.id%7D%3A%20%u83B7%u53D6%u8BE6%u60C5%u5931%u8D25%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20const%20server%20%3D%20item.gameServer%3F.subName%20%7C%7C%20%27%u672A%u77E5%u533A%u670D%27%3B%0A%20%20%20%20%20%20%20%20%20%20const%20okRecharge%20%3D%20detail.recharge%20%3E%3D%20needRecharge%3B%0A%20%20%20%20%20%20%20%20%20%20const%20okDays%20%3D%20detail.cardDays%20%3E%3D%20needCardDays%3B%0A%20%20%20%20%20%20%20%20%20%20const%20okFlow%20%3D%20matchFlow%28detail.flow%2C%20needFlow%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28debug%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20log%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%u68C0%u6D4BID%3D%24%7Bitem.id%7D%20%7C%20%u533A%u670D%3D%24%7Bserver%7D%20%7C%20%u4EF7%u683C%3D%24%7Bitem.price%7D%20%7C%20%u5145%u503C%3D%24%7Bdetail.recharge%7D%24%7BokRecharge%20%3F%20%27%u2714%27%20%3A%20%27%u2718%27%7D%20%7C%20%u6708%u5361%3D%24%7Bdetail.cardDays%7D%24%7BokDays%20%3F%20%27%u2714%27%20%3A%20%27%u2718%27%7D%20%7C%20%u6D41%u6D3E%3D%24%7Bdetail.flow%20%7C%7C%20%27%u65E0%27%7D%24%7BokFlow%20%3F%20%27%u2714%27%20%3A%20%27%u2718%27%7D%20%7C%20%u8017%u65F6%3D%24%7Bcost%7Dms%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21okRecharge%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28debug%20%26%26%20needRecharge%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u8FC7%u6EE4%20ID%3D%24%7Bitem.id%7D%3A%20%u5145%u503C%20%24%7Bdetail.recharge%7D%20%3C%20%u8981%u6C42%20%24%7BneedRecharge%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21okDays%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28debug%20%26%26%20needCardDays%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u8FC7%u6EE4%20ID%3D%24%7Bitem.id%7D%3A%20%u6708%u5361%u5929%u6570%20%24%7Bdetail.cardDays%7D%20%3C%20%u8981%u6C42%20%24%7BneedCardDays%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21okFlow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28debug%20%26%26%20needFlow.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u8FC7%u6EE4%20ID%3D%24%7Bitem.id%7D%3A%20%u6D41%u6D3E%20%22%24%7Bdetail.flow%7D%22%20%u4E0D%u5728%20%24%7BJSON.stringify%28needFlow%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20val%20%3D%20calcValue%28detail.market%2C%20detail.escort%2C%20detail.hasCard%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%28val%20+%20threshold%29%20%3E%20item.price%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hit%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20item.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20item.name%20%7C%7C%20%60%u5546%u54C1%24%7Bitem.id%7D%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20server%3A%20item.gameServer%3F.subName%20%7C%7C%20%27%u672A%u77E5%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20price%3A%20item.price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20market%3A%20detail.market%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20escort%3A%20detail.escort%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20hasCard%3A%20detail.hasCard%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20flow%3A%20detail.flow%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20recharge%3A%20detail.recharge%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%3A%20detail.cardDays%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20noticeEndTime%3A%20item.noticeEndTime%20%3F%20new%20Date%28item.noticeEndTime%29.getTime%28%29%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20noticeEndTimeStr%3A%20item.noticeEndTime%20%7C%7C%20%27%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21worthList.some%28w%20%3D%3E%20w.id%20%3D%3D%3D%20hit.id%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20worthList.unshift%28hit%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderWorthList%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveWorthList%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u547D%u4E2D%20ID%3D%24%7Bhit.id%7D%20%u8D5A%24%7B%28val%20+%20threshold%20-%20item.price%29.toFixed%281%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Bark%20%u63A8%u9001%uFF08%u4EC5%u5BF9%u65B0%u589E%u547D%u4E2D%u63A8%u9001%u4E00%u6B21%uFF09%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20pushBark%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20totalValue%20%3D%20val%20+%20threshold%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20earn%20%3D%20%28totalValue%20-%20item.price%29.toFixed%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20url%20%3D%20%60http%3A//dms.52108.com/%23/pages/shop/detail%3Fid%3D%24%7Bhit.id%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20pushBark%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%u53D1%u73B0%u4EF7%u503C%u5546%u54C1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60ID%3D%24%7Bhit.id%7D%20%u533A%u670D%3D%24%7Bhit.server%7D%20%u4EF7%u683C%3D%24%7Bhit.price%7D%20%u4EF7%u503C%u2248%24%7BtotalValue.toFixed%281%29%7D%20%u9884%u4F30%u8D5A%24%7Bearn%7D%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20url%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28debug%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20earn%20%3D%20%28val%20+%20threshold%20-%20item.price%29.toFixed%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20log%28%60%u8FC7%u6EE4%20ID%3D%24%7Bitem.id%7D%3A%20%u4EF7%u503C%u4E0D%u591F%20value%3D%24%7B%28val%20+%20threshold%29.toFixed%281%29%7D%20%u552E%u4EF7%3D%24%7Bitem.price%7D%20%28%u5DEE%u503C%3D%24%7Bearn%7D%29%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20await%20Promise.all%28tasks%29%3B%0A%20%20%20%20%20%20%20%20checkedCount%20+%3D%20batch.length%3B%0A%20%20%20%20%20%20%20%20if%20%28checkedCount%20%25%2020%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20showStatus%28%60%u8FDB%u5EA6%3A%20%24%7BcheckedCount%7D/%24%7Bitems.length%7D%60%2C%20%27processing%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28%21running%29%20%7B%0A%20%20%20%20%20%20%20%20//%20%u7528%u6237%u5728%u4E2D%u9014%u70B9%u51FB%u4E86%u505C%u6B62%0A%20%20%20%20%20%20%20%20log%28%27%u672C%u8F6E%u7ED3%u675F%u3002%27%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%27%u672C%u8F6E%u7ED3%u675F%27%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27val_btnStart%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27val_btnStop%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20%u6839%u636E%u8F6E%u8BE2%u95F4%u9694%u7EE7%u7EED%u4E0B%u4E00%u8F6E%0A%20%20%20%20%20%20const%20intervalSec%20%3D%20parseInt%28document.getElementById%28%27val_interval%27%29.value%2C%2010%29%20%7C%7C%200%3B%0A%20%20%20%20%20%20log%28%27%u672C%u8F6E%u7ED3%u675F%u3002%27%29%3B%0A%20%20%20%20%20%20if%20%28intervalSec%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u8F6E%u8BE2%u95F4%u9694%3D0%uFF0C%u7ACB%u5373%u5F00%u59CB%u4E0B%u4E00%u8F6E...%27%29%3B%0A%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout%28run%2C%200%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20const%20nextTime%20%3D%20new%20Date%28Date.now%28%29%20+%20intervalSec%20*%201000%29%3B%0A%20%20%20%20%20%20%20%20log%28%60%u4E0B%u6B21%u5F00%u59CB%u65F6%u95F4%uFF1A%24%7BnextTime.toLocaleString%28%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%60%u7B49%u5F85%u4E0B%u4E00%u8F6E%uFF0C%24%7BintervalSec%7D%20%u79D2%u540E%u5F00%u59CB%60%2C%20%27success%27%29%3B%0A%20%20%20%20%20%20%20%20timer%20%3D%20setTimeout%28run%2C%20intervalSec%20*%201000%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20document.getElementById%28%27val_btnSave%27%29.onclick%20%3D%20saveSettings%3B%0A%20%20%20%20document.getElementById%28%27val_btnStart%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28running%29%20return%3B%0A%20%20%20%20%20%20running%20%3D%20true%3B%0A%20%20%20%20%20%20document.getElementById%28%27val_btnStart%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20document.getElementById%28%27val_btnStop%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20worthList%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20renderWorthList%28%29%3B%0A%20%20%20%20%20%20saveWorthList%28%29%3B%0A%20%20%20%20%20%20log%28%27%u5F00%u59CB%u8FD0%u884C...%27%29%3B%0A%20%20%20%20%20%20run%28%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20document.getElementById%28%27val_btnStop%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28%21running%29%20return%3B%0A%20%20%20%20%20%20running%20%3D%20false%3B%0A%20%20%20%20%20%20if%20%28timer%29%20%7B%0A%20%20%20%20%20%20%20%20clearTimeout%28timer%29%3B%0A%20%20%20%20%20%20%20%20timer%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20log%28%27%u6B63%u5728%u505C%u6B62...%27%29%3B%0A%20%20%20%20%20%20showStatus%28%27%u6B63%u5728%u505C%u6B62...%27%2C%20%27warning%27%29%3B%0A%20%20%20%20%20%20document.getElementById%28%27val_btnStart%27%29.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20document.getElementById%28%27val_btnStop%27%29.disabled%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20loadSettings%28%29%3B%0A%20%20%20%20loadWorthList%28%29%3B%0A%0A%20%20%20%20//%20%u66B4%u9732%u7ED9%u5916%u90E8%u6309%u94AE%u4F7F%u7528%0A%20%20%20%20window.valClearWorthList%20%3D%20clearWorthList%3B%0A%20%20%20%20window.valRemoveWorthItem%20%3D%20removeWorthItem%3B%0A%20%20%20%20window.valAddToSchedule%20%3D%20function%28id%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20window.createScheduledTask%20%21%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%27%u5F53%u524D%u9875%u9762%u672A%u52A0%u8F7D%u5B9A%u65F6%u4E0B%u5355%u529F%u80FD%uFF0C%u65E0%u6CD5%u6DFB%u52A0%u4EFB%u52A1%27%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20item%20%3D%20worthList.find%28w%20%3D%3E%20String%28w.id%29%20%3D%3D%3D%20String%28id%29%29%3B%0A%20%20%20%20%20%20if%20%28%21item%29%20%7B%0A%20%20%20%20%20%20%20%20log%28%60%u672A%u5728%u503C%u5F97%u5217%u8868%u4E2D%u627E%u5230%20ID%3D%24%7Bid%7D%uFF0C%u65E0%u6CD5%u6DFB%u52A0%u5B9A%u65F6%u4EFB%u52A1%60%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20log%28%60%u51C6%u5907%u5C06%u503C%u5F97%u5546%u54C1%20ID%3D%24%7Bid%7D%20%u6DFB%u52A0%u5230%u5B9A%u65F6%u4E0B%u5355%u4EFB%u52A1%u5217%u8868...%60%29%3B%0A%20%20%20%20%20%20window.createScheduledTask%28id%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20log%28%60%u2714%20%u5DF2%u5C06%20ID%3D%24%7Bid%7D%20%u6DFB%u52A0%u5230%u5B9A%u65F6%u4E0B%u5355%u4EFB%u52A1%u5217%u8868%60%29%3B%0A%20%20%20%20%20%20%7D%29.catch%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20log%28%60%u2718%20%u6DFB%u52A0%u5B9A%u65F6%u4EFB%u52A1%u5931%u8D25%20ID%3D%24%7Bid%7D%3A%20%24%7Be.message%20%7C%7C%20e%7D%60%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%29%28%29%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E"));
//-->
</script>
